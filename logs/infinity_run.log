2020-11-14 13:27:24.416 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 13:27:24.422 [main] INFO  com.zwq.infinity.InfinityApplication - 未指定要启动的配置文件(config.file=null),即将退出!
2020-11-14 13:27:33.758 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 13:27:33.764 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:/work/worksapce/zlog/infinity/infinity-core/src/main/resources/config/test/stdin_to_es.yml
2020-11-14 13:27:33.806 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:/work/worksapce/zlog/infinity/infinity-core/src/main/resources/config/test/stdin_to_es.yml
2020-11-14 13:27:34.005 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"json","needHostname":true,"type":"json"}}],"filters":[{"Deprecate":{"columns":["<#assign name_list=[\"route-schedule-route\"]><#if (parseMessage)?? && (parseMessage.appName)?? && name_list?seq_contains((parseMessage.appName!\"default\"))>true<#else>false</#if>"]}}],"outputs":[{"RestElasticsearch":{"cluster":"my-cluster2","hosts":["10.9.58.170:9200"],"index":"workorder_index","index_type":"_doc","bulk_actions":20000,"bulk_size":20,"flush_interval":2,"concurrent_requests":2,"timezone":"Asia/Shanghai","username":"elastic","password":"7KFRnK7WlGwyYLTjYubo","sniff":true}}],"metrics":[{"MicroKafkaMetric":{"topic":"gateway-metrics","host":"10.9.15.38:9092","enabled":true,"step":5,"tags":["kafkaTopic","logkit"]}}]}
2020-11-14 13:27:34.057 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build metric MicroKafkaMetric
2020-11-14 13:27:34.060 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build metric MicroKafkaMetric done
2020-11-14 13:27:34.155 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [10.9.15.38:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = 10.10.139.125--null
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2020-11-14 13:27:34.320 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version: 2.2.1
2020-11-14 13:27:34.321 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: 55783d3133a5a49a
2020-11-14 13:27:34.324 [main] INFO  com.zwq.infinity.plugin.metrics.kafka.KafkaConfig - metrics信号量采集启动状态:true
2020-11-14 13:27:34.325 [main] INFO  c.z.i.plugin.metrics.kafka.KafkaMeterRegistry - publish metrics to kafka every 5s
2020-11-14 13:27:34.325 [main] INFO  com.zwq.infinity.plugin.metrics.kafka.KafkaConfig - metrics信号量采集启动状态:true
2020-11-14 13:27:34.326 [main] INFO  i.m.core.instrument.push.PushMeterRegistry - publishing metrics for KafkaMeterRegistry every 5s
2020-11-14 13:27:34.446 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 13:27:34.450 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 13:27:34.451 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Deprecate
2020-11-14 13:27:34.452 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Deprecate done
2020-11-14 13:27:34.511 [kafka-producer-network-thread | 10.10.139.125--null] INFO  org.apache.kafka.clients.Metadata - Cluster ID: VLK5IAn1QQKZxJd7CCvcjg
2020-11-14 13:27:34.595 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output RestElasticsearch
2020-11-14 13:27:34.600 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output RestElasticsearch done
2020-11-14 13:27:34.996 [main] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - 是否开启节点嗅探机制:true
2020-11-14 13:27:35.162 [main] INFO  c.z.infinity.plugin.outputs.RetryRestElasticsearch - 重试restClient^^^是否开启节点嗅探机制:true
2020-11-14 13:27:35.165 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 13:27:39.234 [I/O dispatcher 2] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - bulkSuccess^^^bulk done with executionId: 1^^^bulk size:1^^^no failed docs,do not need to retry
2020-11-14 13:27:39.410 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] 2 partitions have leader brokers without a matching listener, including [gateway-metrics-5, gateway-metrics-1]
2020-11-14 13:32:39.410 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] 2 partitions have leader brokers without a matching listener, including [gateway-metrics-5, gateway-metrics-1]
2020-11-14 13:36:39.371 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] 2 partitions have leader brokers without a matching listener, including [gateway-metrics-5, gateway-metrics-1]
2020-11-14 13:41:39.373 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] 2 partitions have leader brokers without a matching listener, including [gateway-metrics-5, gateway-metrics-1]
2020-11-14 13:46:39.383 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] 2 partitions have leader brokers without a matching listener, including [gateway-metrics-5, gateway-metrics-1]
2020-11-14 13:51:39.385 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] 2 partitions have leader brokers without a matching listener, including [gateway-metrics-5, gateway-metrics-1]
2020-11-14 13:56:39.388 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] 2 partitions have leader brokers without a matching listener, including [gateway-metrics-5, gateway-metrics-1]
2020-11-14 14:01:39.391 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] 2 partitions have leader brokers without a matching listener, including [gateway-metrics-5, gateway-metrics-1]
2020-11-14 14:06:39.395 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] 2 partitions have leader brokers without a matching listener, including [gateway-metrics-5, gateway-metrics-1]
2020-11-14 14:11:39.397 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] 2 partitions have leader brokers without a matching listener, including [gateway-metrics-5, gateway-metrics-1]
2020-11-14 14:16:39.402 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] 2 partitions have leader brokers without a matching listener, including [gateway-metrics-5, gateway-metrics-1]
2020-11-14 14:17:48.297 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.RestElasticsearch
2020-11-14 14:17:48.297 [Thread-2] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - flush docs and then shutdown
2020-11-14 14:17:54.481 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 14:17:54.488 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:/work/worksapce/zlog/infinity/infinity-core/src/main/resources/config/test/stdin_to_es.yml
2020-11-14 14:17:54.527 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:/work/worksapce/zlog/infinity/infinity-core/src/main/resources/config/test/stdin_to_es.yml
2020-11-14 14:17:54.730 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"json","needHostname":true,"type":"json"}}],"filters":[{"Deprecate":{"columns":["<#assign name_list=[\"route-schedule-route\"]><#if (parseMessage)?? && (parseMessage.appName)?? && name_list?seq_contains((parseMessage.appName!\"default\"))>true<#else>false</#if>"]}}],"outputs":[{"RestElasticsearch":{"cluster":"my-cluster2","hosts":["10.9.58.170:9200"],"index":"workorder_index","index_type":"_doc","bulk_actions":20000,"bulk_size":20,"flush_interval":2,"concurrent_requests":2,"timezone":"Asia/Shanghai","username":"elastic","password":"7KFRnK7WlGwyYLTjYubo","sniff":true}}],"metrics":[{"MicroKafkaMetric":{"topic":"gateway-metrics","host":"10.9.15.38:9092","enabled":true,"step":5,"tags":["kafkaTopic","logkit"]}}]}
2020-11-14 14:17:54.791 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build metric MicroKafkaMetric
2020-11-14 14:17:54.795 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build metric MicroKafkaMetric done
2020-11-14 14:17:54.890 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [10.9.15.38:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = 10.10.139.125--null
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2020-11-14 14:17:55.023 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version: 2.2.1
2020-11-14 14:17:55.024 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: 55783d3133a5a49a
2020-11-14 14:17:55.043 [main] INFO  com.zwq.infinity.plugin.metrics.kafka.KafkaConfig - metrics信号量采集启动状态:true
2020-11-14 14:17:55.044 [main] INFO  c.z.i.plugin.metrics.kafka.KafkaMeterRegistry - publish metrics to kafka every 5s
2020-11-14 14:17:55.045 [main] INFO  com.zwq.infinity.plugin.metrics.kafka.KafkaConfig - metrics信号量采集启动状态:true
2020-11-14 14:17:55.045 [main] INFO  i.m.core.instrument.push.PushMeterRegistry - publishing metrics for KafkaMeterRegistry every 5s
2020-11-14 14:17:55.147 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 14:17:55.156 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 14:17:55.157 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Deprecate
2020-11-14 14:17:55.161 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Deprecate done
2020-11-14 14:17:55.213 [kafka-producer-network-thread | 10.10.139.125--null] INFO  org.apache.kafka.clients.Metadata - Cluster ID: VLK5IAn1QQKZxJd7CCvcjg
2020-11-14 14:17:55.277 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output RestElasticsearch
2020-11-14 14:17:55.280 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output RestElasticsearch done
2020-11-14 14:17:55.669 [main] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - 是否开启节点嗅探机制:true
2020-11-14 14:17:55.860 [main] INFO  c.z.infinity.plugin.outputs.RetryRestElasticsearch - 重试restClient^^^是否开启节点嗅探机制:true
2020-11-14 14:17:55.869 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 14:18:00.126 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] 2 partitions have leader brokers without a matching listener, including [gateway-metrics-5, gateway-metrics-1]
2020-11-14 14:21:41.065 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.RestElasticsearch
2020-11-14 14:21:41.066 [Thread-2] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - flush docs and then shutdown
2020-11-14 14:22:01.293 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 14:22:01.300 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:/work/worksapce/zlog/infinity/infinity-core/src/main/resources/config/test/stdin_to_es.yml
2020-11-14 14:22:01.348 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:/work/worksapce/zlog/infinity/infinity-core/src/main/resources/config/test/stdin_to_es.yml
2020-11-14 14:52:39.733 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 14:52:39.738 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:/work/worksapce/zlog/infinity/infinity-core/src/main/resources/config/test/stdin_to_es.yml
2020-11-14 14:52:39.777 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:/work/worksapce/zlog/infinity/infinity-core/src/main/resources/config/test/stdin_to_es.yml
2020-11-14 14:52:42.634 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"json","needHostname":true,"type":"json"}}],"filters":[{"Deprecate":{"columns":["<#assign name_list=[\"route-schedule-route\"]><#if (parseMessage)?? && (parseMessage.appName)?? && name_list?seq_contains((parseMessage.appName!\"default\"))>true<#else>false</#if>"]}}],"outputs":[{"RestElasticsearch":{"cluster":"my-cluster2","hosts":["10.9.58.170:9200"],"index":"workorder_index","index_type":"_doc","bulk_actions":20000,"bulk_size":20,"flush_interval":2,"concurrent_requests":2,"timezone":"Asia/Shanghai","username":"elastic","password":"7KFRnK7WlGwyYLTjYubo","sniff":true}}],"metrics":[{"MicroKafkaMetric":{"topic":"gateway-metrics","host":"10.9.15.38:9092","enabled":true,"step":5,"tags":["kafkaTopic","logkit"]}}]}
2020-11-14 14:52:42.681 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build metric MicroKafkaMetric
2020-11-14 14:52:42.684 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build metric MicroKafkaMetric done
2020-11-14 14:52:42.756 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [10.9.15.38:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = 10.10.139.125--null
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2020-11-14 14:52:42.846 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version: 2.2.1
2020-11-14 14:52:42.847 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: 55783d3133a5a49a
2020-11-14 14:52:42.848 [main] INFO  com.zwq.infinity.plugin.metrics.kafka.KafkaConfig - metrics信号量采集启动状态:true
2020-11-14 14:52:42.849 [main] INFO  c.z.i.plugin.metrics.kafka.KafkaMeterRegistry - publish metrics to kafka every 5s
2020-11-14 14:52:42.849 [main] INFO  com.zwq.infinity.plugin.metrics.kafka.KafkaConfig - metrics信号量采集启动状态:true
2020-11-14 14:52:42.849 [main] INFO  i.m.core.instrument.push.PushMeterRegistry - publishing metrics for KafkaMeterRegistry every 5s
2020-11-14 14:52:42.939 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 14:52:42.943 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 14:52:42.944 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Deprecate
2020-11-14 14:52:42.946 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Deprecate done
2020-11-14 14:52:43.057 [kafka-producer-network-thread | 10.10.139.125--null] INFO  org.apache.kafka.clients.Metadata - Cluster ID: VLK5IAn1QQKZxJd7CCvcjg
2020-11-14 14:52:43.074 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output RestElasticsearch
2020-11-14 14:52:43.077 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output RestElasticsearch done
2020-11-14 14:52:43.499 [main] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - 是否开启节点嗅探机制:true
2020-11-14 14:52:43.743 [main] INFO  c.z.infinity.plugin.outputs.RetryRestElasticsearch - 重试restClient^^^是否开启节点嗅探机制:true
2020-11-14 14:52:43.756 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 14:52:47.798 [I/O dispatcher 1] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - bulkSuccess^^^bulk done with executionId: 1^^^bulk size:1^^^no failed docs,do not need to retry
2020-11-14 14:52:47.920 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] 2 partitions have leader brokers without a matching listener, including [gateway-metrics-5, gateway-metrics-1]
2020-11-14 14:57:47.922 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] 2 partitions have leader brokers without a matching listener, including [gateway-metrics-5, gateway-metrics-1]
2020-11-14 15:01:47.886 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] 2 partitions have leader brokers without a matching listener, including [gateway-metrics-5, gateway-metrics-1]
2020-11-14 15:06:47.891 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] 2 partitions have leader brokers without a matching listener, including [gateway-metrics-5, gateway-metrics-1]
2020-11-14 15:11:47.894 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] 2 partitions have leader brokers without a matching listener, including [gateway-metrics-5, gateway-metrics-1]
2020-11-14 15:16:47.897 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] 2 partitions have leader brokers without a matching listener, including [gateway-metrics-5, gateway-metrics-1]
2020-11-14 15:21:47.902 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] 2 partitions have leader brokers without a matching listener, including [gateway-metrics-5, gateway-metrics-1]
2020-11-14 15:22:33.186 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.RestElasticsearch
2020-11-14 15:22:33.187 [Thread-2] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - flush docs and then shutdown
2020-11-14 15:22:38.041 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 15:22:38.052 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:/work/ownworkspace/infinity/infinity-core/src/main/resources/config/test/stdin_to_stdout.yml
2020-11-14 15:22:38.099 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:/work/ownworkspace/infinity/infinity-core/src/main/resources/config/test/stdin_to_stdout.yml
2020-11-14 15:22:38.306 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"json","needHostname":true,"type":"test-type"}}],"outputs":[{"Stdout":{"format":"direct"}}],"metrics":[{"MicroKafkaMetric":{"topic":"test-kafka","host":"10.10.10.10:9092","enabled":true,"step":20,"tags":["kafkaTopic","infinity-metric"]}}]}
2020-11-14 15:22:38.358 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build metric MicroKafkaMetric
2020-11-14 15:22:38.361 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build metric MicroKafkaMetric done
2020-11-14 15:22:38.460 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [10.10.10.10:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = 10.10.139.125--null
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2020-11-14 15:22:38.584 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version: 2.2.1
2020-11-14 15:22:38.584 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: 55783d3133a5a49a
2020-11-14 15:22:38.586 [main] INFO  com.zwq.infinity.plugin.metrics.kafka.KafkaConfig - metrics信号量采集启动状态:true
2020-11-14 15:22:38.587 [main] INFO  c.z.i.plugin.metrics.kafka.KafkaMeterRegistry - publish metrics to kafka every 20s
2020-11-14 15:22:38.588 [main] INFO  com.zwq.infinity.plugin.metrics.kafka.KafkaConfig - metrics信号量采集启动状态:true
2020-11-14 15:22:38.588 [main] INFO  i.m.core.instrument.push.PushMeterRegistry - publishing metrics for KafkaMeterRegistry every 20s
2020-11-14 15:22:38.695 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 15:22:38.918 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 15:22:38.919 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 15:22:38.924 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 15:30:55.054 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 15:30:55.055 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] Connection to node -1 (/10.10.10.10:9092) could not be established. Broker may not be available.
2020-11-14 15:30:55.056 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 15:30:55.057 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 15:33:04.231 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 15:33:04.236 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:/work/ownworkspace/infinity/infinity-core/src/main/resources/config/test/stdin_to_stdout.yml
2020-11-14 15:33:04.276 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:/work/ownworkspace/infinity/infinity-core/src/main/resources/config/test/stdin_to_stdout.yml
2020-11-14 15:33:04.476 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"json","needHostname":true,"type":"test-type"}}],"outputs":[{"Stdout":{"format":"direct"}}],"metrics":[{"MicroKafkaMetric":{"topic":"test-kafka","host":"10.10.10.10:9092","enabled":true,"step":20,"tags":["kafkaTopic","infinity-metric"]}}]}
2020-11-14 15:33:04.523 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build metric MicroKafkaMetric
2020-11-14 15:33:04.526 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build metric MicroKafkaMetric done
2020-11-14 15:33:04.617 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [10.10.10.10:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = 10.10.139.125--null
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2020-11-14 15:33:04.729 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version: 2.2.1
2020-11-14 15:33:04.729 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: 55783d3133a5a49a
2020-11-14 15:33:04.731 [main] INFO  com.zwq.infinity.plugin.metrics.kafka.KafkaConfig - metrics信号量采集启动状态:true
2020-11-14 15:33:04.733 [main] INFO  c.z.i.plugin.metrics.kafka.KafkaMeterRegistry - publish metrics to kafka every 20s
2020-11-14 15:33:04.733 [main] INFO  com.zwq.infinity.plugin.metrics.kafka.KafkaConfig - metrics信号量采集启动状态:true
2020-11-14 15:33:04.734 [main] INFO  i.m.core.instrument.push.PushMeterRegistry - publishing metrics for KafkaMeterRegistry every 20s
2020-11-14 15:33:04.858 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 15:33:05.078 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 15:33:05.081 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 15:33:05.093 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 15:33:19.850 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 15:33:22.717 [Thread-3] INFO  com.zwq.infinity.baseplugin.BaseInput - process event failed:222,error:java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.util.LinkedHashMap<java.lang.Object,java.lang.Object>` out of VALUE_NUMBER_INT token
 at [Source: (String)"222"; line: 1, column: 1]
	at com.zwq.infinity.util.InfinityJsonUtil.parse(InfinityJsonUtil.java:47)
	at com.zwq.infinity.decoders.JsonDecoder.decode(JsonDecoder.java:13)
	at com.zwq.infinity.baseplugin.BaseInput.process(BaseInput.java:75)
	at com.zwq.infinity.plugin.inputs.Stdin.emit(Stdin.java:59)
	at com.zwq.infinity.InputEmitThread.run(InputEmitThread.java:18)
Caused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.util.LinkedHashMap<java.lang.Object,java.lang.Object>` out of VALUE_NUMBER_INT token
 at [Source: (String)"222"; line: 1, column: 1]
	at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)
	at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1468)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1242)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:373)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:29)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4524)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3466)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3434)
	at com.zwq.infinity.util.InfinityJsonUtil.parse(InfinityJsonUtil.java:45)
	... 4 more

2020-11-14 15:33:25.166 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] Connection to node -1 (/10.10.10.10:9092) could not be established. Broker may not be available.
2020-11-14 15:33:25.789 [Thread-3] INFO  com.zwq.infinity.baseplugin.BaseInput - process event failed:},error:java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected close marker '}': expected ']' (for root starting at [Source: (String)"}"; line: 1, column: 0])
 at [Source: (String)"}"; line: 1, column: 2]
	at com.zwq.infinity.util.InfinityJsonUtil.parse(InfinityJsonUtil.java:47)
	at com.zwq.infinity.decoders.JsonDecoder.decode(JsonDecoder.java:13)
	at com.zwq.infinity.baseplugin.BaseInput.process(BaseInput.java:75)
	at com.zwq.infinity.plugin.inputs.Stdin.emit(Stdin.java:59)
	at com.zwq.infinity.InputEmitThread.run(InputEmitThread.java:18)
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected close marker '}': expected ']' (for root starting at [Source: (String)"}"; line: 1, column: 0])
 at [Source: (String)"}"; line: 1, column: 2]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1851)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:707)
	at com.fasterxml.jackson.core.base.ParserBase._reportMismatchedEndMarker(ParserBase.java:1016)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._closeScope(ReaderBasedJsonParser.java:2919)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextToken(ReaderBasedJsonParser.java:684)
	at com.fasterxml.jackson.databind.ObjectMapper._initForReading(ObjectMapper.java:4662)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4511)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3466)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3434)
	at com.zwq.infinity.util.InfinityJsonUtil.parse(InfinityJsonUtil.java:45)
	... 4 more

2020-11-14 15:34:09.531 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 15:34:09.531 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 15:34:11.385 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 15:34:11.390 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:/work/ownworkspace/infinity/infinity-core/src/main/resources/config/test/stdin_to_stdout.yml
2020-11-14 15:34:11.434 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:/work/ownworkspace/infinity/infinity-core/src/main/resources/config/test/stdin_to_stdout.yml
2020-11-14 15:34:11.640 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"json","needHostname":true,"type":"test-type"}}],"outputs":[{"Stdout":{"format":"direct"}}],"metrics":[{"MicroKafkaMetric":{"topic":"test-kafka","host":"10.10.10.10:9092","enabled":true,"step":20,"tags":["kafkaTopic","infinity-metric"]}}]}
2020-11-14 15:34:11.687 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build metric MicroKafkaMetric
2020-11-14 15:34:11.690 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build metric MicroKafkaMetric done
2020-11-14 15:34:11.788 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [10.10.10.10:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = 10.10.139.125--null
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2020-11-14 15:34:11.904 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version: 2.2.1
2020-11-14 15:34:11.904 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: 55783d3133a5a49a
2020-11-14 15:34:11.907 [main] INFO  com.zwq.infinity.plugin.metrics.kafka.KafkaConfig - metrics信号量采集启动状态:true
2020-11-14 15:34:11.910 [main] INFO  c.z.i.plugin.metrics.kafka.KafkaMeterRegistry - publish metrics to kafka every 20s
2020-11-14 15:34:11.910 [main] INFO  com.zwq.infinity.plugin.metrics.kafka.KafkaConfig - metrics信号量采集启动状态:true
2020-11-14 15:34:11.910 [main] INFO  i.m.core.instrument.push.PushMeterRegistry - publishing metrics for KafkaMeterRegistry every 20s
2020-11-14 15:34:12.021 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 15:34:12.041 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 15:34:12.042 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 15:34:12.045 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 15:34:18.128 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] Connection to node -1 (/10.10.10.10:9092) could not be established. Broker may not be available.
2020-11-14 15:34:18.231 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 15:34:24.623 [Thread-3] INFO  com.zwq.infinity.plugin.outputs.Stdout - {"type":"test-type","hostname":"kris.local"}
2020-11-14 15:34:36.848 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 15:34:36.848 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 15:34:38.718 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 15:34:38.726 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:/work/ownworkspace/infinity/infinity-core/src/main/resources/config/test/stdin_to_stdout.yml
2020-11-14 15:34:38.768 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:/work/ownworkspace/infinity/infinity-core/src/main/resources/config/test/stdin_to_stdout.yml
2020-11-14 15:34:38.967 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"json","needHostname":true,"type":"test-type"}}],"outputs":[{"Stdout":{"format":"direct"}}],"metrics":[{"MicroKafkaMetric":{"topic":"test-kafka","host":"10.10.10.10:9092","enabled":true,"step":20,"tags":["kafkaTopic","infinity-metric"]}}]}
2020-11-14 15:34:39.013 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build metric MicroKafkaMetric
2020-11-14 15:34:39.016 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build metric MicroKafkaMetric done
2020-11-14 15:34:39.100 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [10.10.10.10:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = 10.10.139.125--null
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2020-11-14 15:34:39.228 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version: 2.2.1
2020-11-14 15:34:39.228 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: 55783d3133a5a49a
2020-11-14 15:34:39.231 [main] INFO  com.zwq.infinity.plugin.metrics.kafka.KafkaConfig - metrics信号量采集启动状态:true
2020-11-14 15:34:39.232 [main] INFO  c.z.i.plugin.metrics.kafka.KafkaMeterRegistry - publish metrics to kafka every 20s
2020-11-14 15:34:39.233 [main] INFO  com.zwq.infinity.plugin.metrics.kafka.KafkaConfig - metrics信号量采集启动状态:true
2020-11-14 15:34:39.233 [main] INFO  i.m.core.instrument.push.PushMeterRegistry - publishing metrics for KafkaMeterRegistry every 20s
2020-11-14 15:34:39.340 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 15:34:39.350 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 15:34:39.351 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 15:34:39.352 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 15:34:43.605 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 15:34:47.514 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] Connection to node -1 (/10.10.10.10:9092) could not be established. Broker may not be available.
2020-11-14 15:34:58.219 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] Connection to node -1 (/10.10.10.10:9092) could not be established. Broker may not be available.
2020-11-14 15:34:59.439 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 15:34:59.439 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 15:35:01.221 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 15:35:01.229 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:/work/ownworkspace/infinity/infinity-core/src/main/resources/config/test/stdin_to_stdout.yml
2020-11-14 15:35:01.266 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:/work/ownworkspace/infinity/infinity-core/src/main/resources/config/test/stdin_to_stdout.yml
2020-11-14 15:35:01.290 [main] ERROR com.zwq.infinity.InfinityApplication - start application error：while parsing a block mapping
 in 'reader', line 9, column 7:
          format: [user][name]
          ^
expected <block end>, but found '['
 in 'reader', line 9, column 21:
          format: [user][name]
                        ^

	at org.yaml.snakeyaml.parser.ParserImpl$ParseBlockMappingKey.produce(ParserImpl.java:572)
	at org.yaml.snakeyaml.parser.ParserImpl.peekEvent(ParserImpl.java:158)
	at org.yaml.snakeyaml.parser.ParserImpl.checkEvent(ParserImpl.java:148)
	at org.yaml.snakeyaml.composer.Composer.composeMappingNode(Composer.java:235)
	at org.yaml.snakeyaml.composer.Composer.composeNode(Composer.java:162)
	at org.yaml.snakeyaml.composer.Composer.composeValueNode(Composer.java:257)
	at org.yaml.snakeyaml.composer.Composer.composeMappingChildren(Composer.java:248)
	at org.yaml.snakeyaml.composer.Composer.composeMappingNode(Composer.java:236)
	at org.yaml.snakeyaml.composer.Composer.composeNode(Composer.java:162)
	at org.yaml.snakeyaml.composer.Composer.composeSequenceNode(Composer.java:209)
	at org.yaml.snakeyaml.composer.Composer.composeNode(Composer.java:160)
	at org.yaml.snakeyaml.composer.Composer.composeValueNode(Composer.java:257)
	at org.yaml.snakeyaml.composer.Composer.composeMappingChildren(Composer.java:248)
	at org.yaml.snakeyaml.composer.Composer.composeMappingNode(Composer.java:236)
	at org.yaml.snakeyaml.composer.Composer.composeNode(Composer.java:162)
	at org.yaml.snakeyaml.composer.Composer.getNode(Composer.java:95)
	at org.yaml.snakeyaml.composer.Composer.getSingleNode(Composer.java:119)
	at org.yaml.snakeyaml.constructor.BaseConstructor.getSingleData(BaseConstructor.java:150)
	at org.yaml.snakeyaml.Yaml.loadFromReader(Yaml.java:472)
	at org.yaml.snakeyaml.Yaml.load(Yaml.java:411)
	at com.zwq.infinity.config.InfinityConfig.parseConfigFile(InfinityConfig.java:42)
	at com.zwq.infinity.InfinityApplication.main(InfinityApplication.java:39)

2020-11-14 15:35:12.929 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 15:35:12.935 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:/work/ownworkspace/infinity/infinity-core/src/main/resources/config/test/stdin_to_stdout.yml
2020-11-14 15:35:12.976 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:/work/ownworkspace/infinity/infinity-core/src/main/resources/config/test/stdin_to_stdout.yml
2020-11-14 15:35:13.182 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"json","needHostname":true,"type":"test-type"}}],"outputs":[{"Stdout":{"format":"[user][name]"}}],"metrics":[{"MicroKafkaMetric":{"topic":"test-kafka","host":"10.10.10.10:9092","enabled":true,"step":20,"tags":["kafkaTopic","infinity-metric"]}}]}
2020-11-14 15:35:13.228 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build metric MicroKafkaMetric
2020-11-14 15:35:13.232 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build metric MicroKafkaMetric done
2020-11-14 15:35:13.325 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [10.10.10.10:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = 10.10.139.125--null
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2020-11-14 15:35:13.438 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version: 2.2.1
2020-11-14 15:35:13.438 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: 55783d3133a5a49a
2020-11-14 15:35:13.440 [main] INFO  com.zwq.infinity.plugin.metrics.kafka.KafkaConfig - metrics信号量采集启动状态:true
2020-11-14 15:35:13.442 [main] INFO  c.z.i.plugin.metrics.kafka.KafkaMeterRegistry - publish metrics to kafka every 20s
2020-11-14 15:35:13.442 [main] INFO  com.zwq.infinity.plugin.metrics.kafka.KafkaConfig - metrics信号量采集启动状态:true
2020-11-14 15:35:13.442 [main] INFO  i.m.core.instrument.push.PushMeterRegistry - publishing metrics for KafkaMeterRegistry every 20s
2020-11-14 15:35:13.538 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 15:35:13.760 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 15:35:13.763 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 15:35:13.766 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 15:35:18.671 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 15:35:42.394 [Thread-3] INFO  com.zwq.infinity.baseplugin.BaseInput - process event failed:{{"user":{"name":"zwq"}},error:java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('{' (code 123)): was expecting double-quote to start field name
 at [Source: (String)"{{"user":{"name":"zwq"}}"; line: 1, column: 3]
	at com.zwq.infinity.util.InfinityJsonUtil.parse(InfinityJsonUtil.java:47)
	at com.zwq.infinity.decoders.JsonDecoder.decode(JsonDecoder.java:13)
	at com.zwq.infinity.baseplugin.BaseInput.process(BaseInput.java:75)
	at com.zwq.infinity.plugin.inputs.Stdin.emit(Stdin.java:59)
	at com.zwq.infinity.InputEmitThread.run(InputEmitThread.java:18)
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('{' (code 123)): was expecting double-quote to start field name
 at [Source: (String)"{{"user":{"name":"zwq"}}"; line: 1, column: 3]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1851)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:707)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:632)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._handleOddName(ReaderBasedJsonParser.java:1809)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextFieldName(ReaderBasedJsonParser.java:936)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:513)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:377)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:29)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4524)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3466)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3434)
	at com.zwq.infinity.util.InfinityJsonUtil.parse(InfinityJsonUtil.java:45)
	... 4 more

2020-11-14 15:35:43.407 [Thread-3] INFO  com.zwq.infinity.plugin.outputs.Stdout - {"user":{"name":"zwq"},"type":"test-type","hostname":"kris.local"}
2020-11-14 15:37:00.073 [Thread-3] INFO  com.zwq.infinity.plugin.outputs.Stdout - {"user":{"name":"zwq"},"type":"test-type","hostname":"kris.local"}
2020-11-14 15:37:05.435 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 15:37:05.435 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 15:37:08.377 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 15:37:08.383 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:/work/ownworkspace/infinity/infinity-core/src/main/resources/config/test/stdin_to_stdout.yml
2020-11-14 15:37:08.422 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:/work/ownworkspace/infinity/infinity-core/src/main/resources/config/test/stdin_to_stdout.yml
2020-11-14 15:37:08.609 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"json","needHostname":true,"type":"test-type"}}],"outputs":[{"Stdout":{"format":"[user][name]"}}],"metrics":[{"MicroKafkaMetric":{"topic":"test-kafka","host":"10.10.10.10:9092","enabled":true,"step":20,"tags":["kafkaTopic","infinity-metric"]}}]}
2020-11-14 15:37:08.656 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build metric MicroKafkaMetric
2020-11-14 15:37:08.659 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build metric MicroKafkaMetric done
2020-11-14 15:37:08.746 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [10.10.10.10:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = 10.10.139.125--null
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2020-11-14 15:37:08.862 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version: 2.2.1
2020-11-14 15:37:08.863 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: 55783d3133a5a49a
2020-11-14 15:37:08.865 [main] INFO  com.zwq.infinity.plugin.metrics.kafka.KafkaConfig - metrics信号量采集启动状态:true
2020-11-14 15:37:08.877 [main] INFO  c.z.i.plugin.metrics.kafka.KafkaMeterRegistry - publish metrics to kafka every 20s
2020-11-14 15:37:08.878 [main] INFO  com.zwq.infinity.plugin.metrics.kafka.KafkaConfig - metrics信号量采集启动状态:true
2020-11-14 15:37:08.878 [main] INFO  i.m.core.instrument.push.PushMeterRegistry - publishing metrics for KafkaMeterRegistry every 20s
2020-11-14 15:37:09.002 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 15:37:09.023 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 15:37:09.024 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 15:37:09.027 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 15:37:11.717 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 15:37:17.043 [Thread-3] INFO  com.zwq.infinity.render.FieldRender - render error: java.lang.NullPointerException
2020-11-14 15:37:17.043 [Thread-3] INFO  com.zwq.infinity.plugin.outputs.Stdout - stdout error^^^the message is null
2020-11-14 15:38:18.935 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] Connection to node -1 (/10.10.10.10:9092) could not be established. Broker may not be available.
2020-11-14 15:38:19.131 [Thread-3] INFO  com.zwq.infinity.baseplugin.BaseInput - process event failed:,error:java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.MismatchedInputException: No content to map due to end-of-input
 at [Source: (String)""; line: 1, column: 0]
	at com.zwq.infinity.util.InfinityJsonUtil.parse(InfinityJsonUtil.java:47)
	at com.zwq.infinity.decoders.JsonDecoder.decode(JsonDecoder.java:13)
	at com.zwq.infinity.baseplugin.BaseInput.process(BaseInput.java:75)
	at com.zwq.infinity.plugin.inputs.Stdin.emit(Stdin.java:59)
	at com.zwq.infinity.InputEmitThread.run(InputEmitThread.java:18)
Caused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: No content to map due to end-of-input
 at [Source: (String)""; line: 1, column: 0]
	at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)
	at com.fasterxml.jackson.databind.ObjectMapper._initForReading(ObjectMapper.java:4666)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4511)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3466)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3434)
	at com.zwq.infinity.util.InfinityJsonUtil.parse(InfinityJsonUtil.java:45)
	... 4 more

2020-11-14 15:38:28.982 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 15:38:28.982 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 15:38:30.795 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 15:38:30.802 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:/work/ownworkspace/infinity/infinity-core/src/main/resources/config/test/stdin_to_stdout.yml
2020-11-14 15:38:30.844 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:/work/ownworkspace/infinity/infinity-core/src/main/resources/config/test/stdin_to_stdout.yml
2020-11-14 15:38:31.029 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"json","needHostname":true,"type":"test-type"}}],"outputs":[{"Stdout":{"format":"string"}}],"metrics":[{"MicroKafkaMetric":{"topic":"test-kafka","host":"10.10.10.10:9092","enabled":true,"step":20,"tags":["kafkaTopic","infinity-metric"]}}]}
2020-11-14 15:38:31.083 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build metric MicroKafkaMetric
2020-11-14 15:38:31.086 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build metric MicroKafkaMetric done
2020-11-14 15:38:31.180 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [10.10.10.10:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = 10.10.139.125--null
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2020-11-14 15:38:31.284 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version: 2.2.1
2020-11-14 15:38:31.284 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: 55783d3133a5a49a
2020-11-14 15:38:31.286 [main] INFO  com.zwq.infinity.plugin.metrics.kafka.KafkaConfig - metrics信号量采集启动状态:true
2020-11-14 15:38:31.288 [main] INFO  c.z.i.plugin.metrics.kafka.KafkaMeterRegistry - publish metrics to kafka every 20s
2020-11-14 15:38:31.288 [main] INFO  com.zwq.infinity.plugin.metrics.kafka.KafkaConfig - metrics信号量采集启动状态:true
2020-11-14 15:38:31.288 [main] INFO  i.m.core.instrument.push.PushMeterRegistry - publishing metrics for KafkaMeterRegistry every 20s
2020-11-14 15:38:31.394 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 15:38:31.613 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 15:38:31.616 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 15:38:31.619 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 15:38:31.755 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 15:38:33.593 [Thread-3] INFO  com.zwq.infinity.plugin.outputs.Stdout - "string"
2020-11-14 15:38:36.335 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] Connection to node -1 (/10.10.10.10:9092) could not be established. Broker may not be available.
2020-11-14 15:38:41.463 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] Connection to node -1 (/10.10.10.10:9092) could not be established. Broker may not be available.
2020-11-14 15:38:52.368 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] Connection to node -1 (/10.10.10.10:9092) could not be established. Broker may not be available.
2020-11-14 15:40:06.124 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 15:40:06.124 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 15:40:08.982 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 15:40:08.988 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:/work/ownworkspace/infinity/infinity-core/src/main/resources/config/test/stdin_to_stdout.yml
2020-11-14 15:40:09.026 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:/work/ownworkspace/infinity/infinity-core/src/main/resources/config/test/stdin_to_stdout.yml
2020-11-14 15:40:09.229 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"json","needHostname":true,"type":"test-type"}}],"outputs":[{"Stdout":{"format":"[user][name]"}}],"metrics":[{"MicroKafkaMetric":{"topic":"test-kafka","host":"10.10.10.10:9092","enabled":true,"step":20,"tags":["kafkaTopic","infinity-metric"]}}]}
2020-11-14 15:40:09.279 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build metric MicroKafkaMetric
2020-11-14 15:40:09.283 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build metric MicroKafkaMetric done
2020-11-14 15:40:09.376 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [10.10.10.10:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = 10.10.139.125--null
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2020-11-14 15:40:09.489 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version: 2.2.1
2020-11-14 15:40:09.489 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: 55783d3133a5a49a
2020-11-14 15:40:09.490 [main] INFO  com.zwq.infinity.plugin.metrics.kafka.KafkaConfig - metrics信号量采集启动状态:true
2020-11-14 15:40:09.491 [main] INFO  c.z.i.plugin.metrics.kafka.KafkaMeterRegistry - publish metrics to kafka every 20s
2020-11-14 15:40:09.492 [main] INFO  com.zwq.infinity.plugin.metrics.kafka.KafkaConfig - metrics信号量采集启动状态:true
2020-11-14 15:40:09.493 [main] INFO  i.m.core.instrument.push.PushMeterRegistry - publishing metrics for KafkaMeterRegistry every 20s
2020-11-14 15:40:09.592 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 15:40:09.610 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 15:40:09.611 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 15:40:09.612 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 15:40:09.618 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 15:40:11.687 [Thread-3] INFO  com.zwq.infinity.plugin.outputs.Stdout - "zwq"
2020-11-14 15:40:14.590 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] Connection to node -1 (/10.10.10.10:9092) could not be established. Broker may not be available.
2020-11-14 15:40:36.865 [Thread-3] INFO  com.zwq.infinity.plugin.outputs.Stdout - "zwq"
2020-11-14 15:40:36.865 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] Connection to node -1 (/10.10.10.10:9092) could not be established. Broker may not be available.
2020-11-14 15:41:42.142 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 15:41:42.143 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 15:41:45.168 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 15:41:45.176 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:/work/ownworkspace/infinity/infinity-core/src/main/resources/config/test/stdin_to_stdout.yml
2020-11-14 15:41:45.232 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:/work/ownworkspace/infinity/infinity-core/src/main/resources/config/test/stdin_to_stdout.yml
2020-11-14 15:41:45.484 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"json","needHostname":true,"type":"test-type"}}],"outputs":[{"Stdout":{"format":"[user][name]"}}],"metrics":[{"MicroKafkaMetric":{"topic":"test-kafka","host":"10.10.10.10:9092","enabled":true,"step":20,"tags":["kafkaTopic","infinity-metric"]}}]}
2020-11-14 15:41:45.550 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build metric MicroKafkaMetric
2020-11-14 15:41:45.554 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build metric MicroKafkaMetric done
2020-11-14 15:41:45.669 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [10.10.10.10:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = 10.10.139.125--null
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2020-11-14 15:41:45.801 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version: 2.2.1
2020-11-14 15:41:45.801 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: 55783d3133a5a49a
2020-11-14 15:41:45.803 [main] INFO  com.zwq.infinity.plugin.metrics.kafka.KafkaConfig - metrics信号量采集启动状态:true
2020-11-14 15:41:45.804 [main] INFO  c.z.i.plugin.metrics.kafka.KafkaMeterRegistry - publish metrics to kafka every 20s
2020-11-14 15:41:45.804 [main] INFO  com.zwq.infinity.plugin.metrics.kafka.KafkaConfig - metrics信号量采集启动状态:true
2020-11-14 15:41:45.804 [main] INFO  i.m.core.instrument.push.PushMeterRegistry - publishing metrics for KafkaMeterRegistry every 20s
2020-11-14 15:41:45.890 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 15:41:46.111 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 15:41:46.113 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 15:41:46.114 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 15:41:48.204 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 15:41:50.081 [Thread-3] INFO  com.zwq.infinity.plugin.outputs.Stdout - zwq
2020-11-14 15:43:55.242 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] Connection to node -1 (/10.10.10.10:9092) could not be established. Broker may not be available.
2020-11-14 15:44:51.795 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 15:44:51.796 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 15:44:53.619 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 15:44:53.626 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:/work/ownworkspace/infinity/infinity-core/src/main/resources/config/test/stdin_to_stdout.yml
2020-11-14 15:44:53.677 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:/work/ownworkspace/infinity/infinity-core/src/main/resources/config/test/stdin_to_stdout.yml
2020-11-14 15:44:53.882 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"json","needHostname":true,"type":"test-type"}}],"outputs":[{"Stdout":null}],"metrics":[{"MicroKafkaMetric":{"topic":"test-kafka","host":"10.10.10.10:9092","enabled":true,"step":20,"tags":["kafkaTopic","infinity-metric"]}}]}
2020-11-14 15:44:53.948 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build metric MicroKafkaMetric
2020-11-14 15:44:53.951 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build metric MicroKafkaMetric done
2020-11-14 15:44:54.038 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [10.10.10.10:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = 10.10.139.125--null
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2020-11-14 15:44:54.158 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version: 2.2.1
2020-11-14 15:44:54.159 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: 55783d3133a5a49a
2020-11-14 15:44:54.160 [main] INFO  com.zwq.infinity.plugin.metrics.kafka.KafkaConfig - metrics信号量采集启动状态:true
2020-11-14 15:44:54.162 [main] INFO  c.z.i.plugin.metrics.kafka.KafkaMeterRegistry - publish metrics to kafka every 20s
2020-11-14 15:44:54.164 [main] INFO  com.zwq.infinity.plugin.metrics.kafka.KafkaConfig - metrics信号量采集启动状态:true
2020-11-14 15:44:54.164 [main] INFO  i.m.core.instrument.push.PushMeterRegistry - publishing metrics for KafkaMeterRegistry every 20s
2020-11-14 15:44:54.258 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 15:44:54.477 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 15:44:54.480 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 15:44:54.484 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 15:44:54.493 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output error:java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.zwq.infinity.baseplugin.InfinityBuilder.lambda$null$4(InfinityBuilder.java:121)
	at java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)
	at com.zwq.infinity.baseplugin.InfinityBuilder.lambda$buildOutputs$5(InfinityBuilder.java:113)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at com.zwq.infinity.baseplugin.InfinityBuilder.buildOutputs(InfinityBuilder.java:112)
	at com.zwq.infinity.baseplugin.InfinityBuilder.build(InfinityBuilder.java:150)
	at com.zwq.infinity.InfinityApplication.main(InfinityApplication.java:48)
Caused by: java.lang.NullPointerException
	at com.zwq.infinity.baseplugin.BaseOutput.<init>(BaseOutput.java:25)
	at com.zwq.infinity.plugin.outputs.Stdout.<init>(Stdout.java:21)
	... 11 more

2020-11-14 15:45:07.208 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 15:45:07.214 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:/work/ownworkspace/infinity/infinity-core/src/main/resources/config/test/stdin_to_stdout.yml
2020-11-14 15:45:07.250 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:/work/ownworkspace/infinity/infinity-core/src/main/resources/config/test/stdin_to_stdout.yml
2020-11-14 15:45:07.447 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"json","needHostname":true,"type":"test-type"}}],"outputs":[{"Stdout":{}}],"metrics":[{"MicroKafkaMetric":{"topic":"test-kafka","host":"10.10.10.10:9092","enabled":true,"step":20,"tags":["kafkaTopic","infinity-metric"]}}]}
2020-11-14 15:45:07.490 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build metric MicroKafkaMetric
2020-11-14 15:45:07.493 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build metric MicroKafkaMetric done
2020-11-14 15:45:07.575 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [10.10.10.10:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = 10.10.139.125--null
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2020-11-14 15:45:07.680 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version: 2.2.1
2020-11-14 15:45:07.680 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: 55783d3133a5a49a
2020-11-14 15:45:07.682 [main] INFO  com.zwq.infinity.plugin.metrics.kafka.KafkaConfig - metrics信号量采集启动状态:true
2020-11-14 15:45:07.683 [main] INFO  c.z.i.plugin.metrics.kafka.KafkaMeterRegistry - publish metrics to kafka every 20s
2020-11-14 15:45:07.683 [main] INFO  com.zwq.infinity.plugin.metrics.kafka.KafkaConfig - metrics信号量采集启动状态:true
2020-11-14 15:45:07.684 [main] INFO  i.m.core.instrument.push.PushMeterRegistry - publishing metrics for KafkaMeterRegistry every 20s
2020-11-14 15:45:07.806 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 15:45:07.816 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 15:45:07.817 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 15:45:07.818 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 15:45:07.822 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 15:45:10.083 [Thread-3] INFO  com.zwq.infinity.plugin.outputs.Stdout - {"type":"test-type","hostname":"kris.local"}
2020-11-14 15:45:10.891 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] Connection to node -1 (/10.10.10.10:9092) could not be established. Broker may not be available.
2020-11-14 15:45:22.360 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] Connection to node -1 (/10.10.10.10:9092) could not be established. Broker may not be available.
2020-11-14 15:45:41.784 [Thread-3] INFO  com.zwq.infinity.plugin.outputs.Stdout - {"type":"test-type","hostname":"kris.local"}
2020-11-14 15:45:45.977 [Thread-3] INFO  com.zwq.infinity.plugin.outputs.Stdout - {"type":"test-type","hostname":"kris.local"}
2020-11-14 15:45:50.746 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 15:45:50.747 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 15:45:52.765 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 15:45:52.772 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:/work/ownworkspace/infinity/infinity-core/src/main/resources/config/test/stdin_to_stdout.yml
2020-11-14 15:45:52.816 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:/work/ownworkspace/infinity/infinity-core/src/main/resources/config/test/stdin_to_stdout.yml
2020-11-14 15:45:53.019 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"json","needHostname":true,"type":"test-type"}}],"outputs":[{"Stdout":{}}],"metrics":[{"MicroKafkaMetric":{"topic":"test-kafka","host":"10.10.10.10:9092","enabled":true,"step":20,"tags":["kafkaTopic","infinity-metric"]}}]}
2020-11-14 15:45:53.073 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build metric MicroKafkaMetric
2020-11-14 15:45:53.076 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build metric MicroKafkaMetric done
2020-11-14 15:45:53.164 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [10.10.10.10:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = 10.10.139.125--null
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2020-11-14 15:45:53.263 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version: 2.2.1
2020-11-14 15:45:53.263 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: 55783d3133a5a49a
2020-11-14 15:45:53.264 [main] INFO  com.zwq.infinity.plugin.metrics.kafka.KafkaConfig - metrics信号量采集启动状态:true
2020-11-14 15:45:53.266 [main] INFO  c.z.i.plugin.metrics.kafka.KafkaMeterRegistry - publish metrics to kafka every 20s
2020-11-14 15:45:53.266 [main] INFO  com.zwq.infinity.plugin.metrics.kafka.KafkaConfig - metrics信号量采集启动状态:true
2020-11-14 15:45:53.266 [main] INFO  i.m.core.instrument.push.PushMeterRegistry - publishing metrics for KafkaMeterRegistry every 20s
2020-11-14 15:45:53.362 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 15:46:03.840 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 15:46:03.843 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 15:46:03.844 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 15:46:03.846 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] Connection to node -1 (/10.10.10.10:9092) could not be established. Broker may not be available.
2020-11-14 15:46:03.848 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 15:46:03.851 [Thread-3] INFO  com.zwq.infinity.plugin.inputs.Stdin - Stdin loop got exception
java.io.IOException: Bad file descriptor
	at java.io.FileInputStream.readBytes(Native Method)
	at java.io.FileInputStream.read(FileInputStream.java:255)
	at java.io.BufferedInputStream.read1(BufferedInputStream.java:284)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:345)
	at sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:284)
	at sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:326)
	at sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)
	at java.io.InputStreamReader.read(InputStreamReader.java:184)
	at java.io.BufferedReader.fill(BufferedReader.java:161)
	at java.io.BufferedReader.readLine(BufferedReader.java:324)
	at java.io.BufferedReader.readLine(BufferedReader.java:389)
	at com.zwq.infinity.plugin.inputs.Stdin.emit(Stdin.java:58)
	at com.zwq.infinity.InputEmitThread.run(InputEmitThread.java:18)
2020-11-14 15:46:03.852 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 15:46:03.852 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 15:46:05.643 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 15:46:05.649 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:/work/ownworkspace/infinity/infinity-core/src/main/resources/config/test/stdin_to_stdout.yml
2020-11-14 15:46:05.693 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:/work/ownworkspace/infinity/infinity-core/src/main/resources/config/test/stdin_to_stdout.yml
2020-11-14 15:46:05.881 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"json","needHostname":true,"type":"test-type"}}],"outputs":[{"Stdout":{}}],"metrics":[{"MicroKafkaMetric":{"topic":"test-kafka","host":"10.10.10.10:9092","enabled":true,"step":20,"tags":["kafkaTopic","infinity-metric"]}}]}
2020-11-14 15:46:05.946 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build metric MicroKafkaMetric
2020-11-14 15:46:05.950 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build metric MicroKafkaMetric done
2020-11-14 15:46:06.050 [main] INFO  org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: 
	acks = 1
	batch.size = 16384
	bootstrap.servers = [10.10.10.10:9092]
	buffer.memory = 33554432
	client.dns.lookup = default
	client.id = 10.10.139.125--null
	compression.type = none
	connections.max.idle.ms = 540000
	delivery.timeout.ms = 120000
	enable.idempotence = false
	interceptor.classes = []
	key.serializer = class org.apache.kafka.common.serialization.StringSerializer
	linger.ms = 0
	max.block.ms = 60000
	max.in.flight.requests.per.connection = 5
	max.request.size = 1048576
	metadata.max.age.ms = 300000
	metric.reporters = []
	metrics.num.samples = 2
	metrics.recording.level = INFO
	metrics.sample.window.ms = 30000
	partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner
	receive.buffer.bytes = 32768
	reconnect.backoff.max.ms = 1000
	reconnect.backoff.ms = 50
	request.timeout.ms = 30000
	retries = 2147483647
	retry.backoff.ms = 100
	sasl.client.callback.handler.class = null
	sasl.jaas.config = null
	sasl.kerberos.kinit.cmd = /usr/bin/kinit
	sasl.kerberos.min.time.before.relogin = 60000
	sasl.kerberos.service.name = null
	sasl.kerberos.ticket.renew.jitter = 0.05
	sasl.kerberos.ticket.renew.window.factor = 0.8
	sasl.login.callback.handler.class = null
	sasl.login.class = null
	sasl.login.refresh.buffer.seconds = 300
	sasl.login.refresh.min.period.seconds = 60
	sasl.login.refresh.window.factor = 0.8
	sasl.login.refresh.window.jitter = 0.05
	sasl.mechanism = GSSAPI
	security.protocol = PLAINTEXT
	send.buffer.bytes = 131072
	ssl.cipher.suites = null
	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
	ssl.endpoint.identification.algorithm = https
	ssl.key.password = null
	ssl.keymanager.algorithm = SunX509
	ssl.keystore.location = null
	ssl.keystore.password = null
	ssl.keystore.type = JKS
	ssl.protocol = TLS
	ssl.provider = null
	ssl.secure.random.implementation = null
	ssl.trustmanager.algorithm = PKIX
	ssl.truststore.location = null
	ssl.truststore.password = null
	ssl.truststore.type = JKS
	transaction.timeout.ms = 60000
	transactional.id = null
	value.serializer = class org.apache.kafka.common.serialization.StringSerializer

2020-11-14 15:46:06.154 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka version: 2.2.1
2020-11-14 15:46:06.154 [main] INFO  org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: 55783d3133a5a49a
2020-11-14 15:46:06.156 [main] INFO  com.zwq.infinity.plugin.metrics.kafka.KafkaConfig - metrics信号量采集启动状态:true
2020-11-14 15:46:06.158 [main] INFO  c.z.i.plugin.metrics.kafka.KafkaMeterRegistry - publish metrics to kafka every 20s
2020-11-14 15:46:06.158 [main] INFO  com.zwq.infinity.plugin.metrics.kafka.KafkaConfig - metrics信号量采集启动状态:true
2020-11-14 15:46:06.158 [main] INFO  i.m.core.instrument.push.PushMeterRegistry - publishing metrics for KafkaMeterRegistry every 20s
2020-11-14 15:46:06.248 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 15:46:32.063 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 15:46:32.067 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 15:46:32.070 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 15:46:32.072 [kafka-producer-network-thread | 10.10.139.125--null] WARN  org.apache.kafka.clients.NetworkClient - [Producer clientId=10.10.139.125--null] Connection to node -1 (/10.10.10.10:9092) could not be established. Broker may not be available.
2020-11-14 15:46:32.075 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 15:46:32.078 [Thread-3] INFO  com.zwq.infinity.plugin.inputs.Stdin - Stdin loop got exception
java.io.IOException: Bad file descriptor
	at java.io.FileInputStream.readBytes(Native Method)
	at java.io.FileInputStream.read(FileInputStream.java:255)
	at java.io.BufferedInputStream.read1(BufferedInputStream.java:284)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:345)
	at sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:284)
	at sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:326)
	at sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)
	at java.io.InputStreamReader.read(InputStreamReader.java:184)
	at java.io.BufferedReader.fill(BufferedReader.java:161)
	at java.io.BufferedReader.readLine(BufferedReader.java:324)
	at java.io.BufferedReader.readLine(BufferedReader.java:389)
	at com.zwq.infinity.plugin.inputs.Stdin.emit(Stdin.java:58)
	at com.zwq.infinity.InputEmitThread.run(InputEmitThread.java:18)
2020-11-14 15:46:32.079 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 15:46:32.080 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:04:02.252 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 16:04:02.257 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:./3-stdin_to_rest_es7.yml
2020-11-14 16:04:02.303 [main] ERROR com.zwq.infinity.InfinityApplication - start application error：java.io.FileNotFoundException: ./3-stdin_to_rest_es7.yml (No such file or directory)
	at java.io.FileInputStream.open0(Native Method)
	at java.io.FileInputStream.open(FileInputStream.java:195)
	at java.io.FileInputStream.<init>(FileInputStream.java:138)
	at com.zwq.infinity.config.InfinityConfig.parseConfigFile(InfinityConfig.java:40)
	at com.zwq.infinity.InfinityApplication.main(InfinityApplication.java:39)

2020-11-14 16:04:20.010 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 16:04:20.016 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:./config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:04:20.060 [main] ERROR com.zwq.infinity.InfinityApplication - start application error：java.io.FileNotFoundException: ./config/test/3-stdin_to_rest_es7.yml (No such file or directory)
	at java.io.FileInputStream.open0(Native Method)
	at java.io.FileInputStream.open(FileInputStream.java:195)
	at java.io.FileInputStream.<init>(FileInputStream.java:138)
	at com.zwq.infinity.config.InfinityConfig.parseConfigFile(InfinityConfig.java:40)
	at com.zwq.infinity.InfinityApplication.main(InfinityApplication.java:39)

2020-11-14 16:04:28.465 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 16:04:28.473 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:./config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:05:19.311 [main] ERROR com.zwq.infinity.InfinityApplication - start application error：java.io.FileNotFoundException: ./config/test/3-stdin_to_rest_es7.yml (No such file or directory)
	at java.io.FileInputStream.open0(Native Method)
	at java.io.FileInputStream.open(FileInputStream.java:195)
	at java.io.FileInputStream.<init>(FileInputStream.java:138)
	at com.zwq.infinity.config.InfinityConfig.parseConfigFile(InfinityConfig.java:40)
	at com.zwq.infinity.InfinityApplication.main(InfinityApplication.java:39)

2020-11-14 16:05:20.946 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 16:05:20.952 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:05:25.049 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:05:25.267 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"plain","hostname":true,"type":"stdin"}}],"filters":[{"Add":{"fields":{"index_name":"logkit-render"}}}],"outputs":[{"RestElasticsearch":{"cluster":"fat_7_4_1_cluster","hosts":["10.9.47.13:10099"],"index":"test-index-%{+YYYY.MM.dd}","username":"elastic","password":"password","bulk_actions":10,"bulk_size":1,"flush_interval":5,"timezone":"Asia/Shanghai"}}]}
2020-11-14 16:05:25.308 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 16:05:25.313 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 16:05:25.313 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Add
2020-11-14 16:05:25.315 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Add done
2020-11-14 16:05:25.409 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output RestElasticsearch
2020-11-14 16:05:25.411 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output RestElasticsearch done
2020-11-14 16:05:25.840 [main] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - 是否开启节点嗅探机制:true
2020-11-14 16:05:26.092 [main] INFO  c.z.infinity.plugin.outputs.RetryRestElasticsearch - 重试restClient^^^是否开启节点嗅探机制:true
2020-11-14 16:05:26.097 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 16:05:40.113 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.RestElasticsearch
2020-11-14 16:05:40.113 [Thread-1] INFO  com.zwq.infinity.baseplugin.BaseInput - start to shutdown com.zwq.infinity.plugin.inputs.Stdin
2020-11-14 16:05:40.113 [Thread-2] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - flush docs and then shutdown
2020-11-14 16:05:40.113 [Thread-1] INFO  com.zwq.infinity.plugin.inputs.Stdin - Stdin Input shutdown... 
2020-11-14 16:05:42.017 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 16:05:42.024 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:./infinity-core/src/main/resources/config/test/1-stdin_to_stdout.yml.yml
2020-11-14 16:05:42.065 [main] ERROR com.zwq.infinity.InfinityApplication - start application error：java.io.FileNotFoundException: ./infinity-core/src/main/resources/config/test/1-stdin_to_stdout.yml.yml (No such file or directory)
	at java.io.FileInputStream.open0(Native Method)
	at java.io.FileInputStream.open(FileInputStream.java:195)
	at java.io.FileInputStream.<init>(FileInputStream.java:138)
	at com.zwq.infinity.config.InfinityConfig.parseConfigFile(InfinityConfig.java:40)
	at com.zwq.infinity.InfinityApplication.main(InfinityApplication.java:39)

2020-11-14 16:05:59.241 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 16:05:59.246 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:./infinity-core/src/main/resources/config/test/1-stdin_to_stdout.yml
2020-11-14 16:05:59.288 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:./infinity-core/src/main/resources/config/test/1-stdin_to_stdout.yml
2020-11-14 16:05:59.474 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"json","needHostname":true,"type":"test-type"}}],"outputs":[{"Stdout":{}}]}
2020-11-14 16:05:59.528 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 16:05:59.776 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 16:05:59.777 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 16:05:59.780 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 16:05:59.786 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 16:06:02.730 [Thread-3] INFO  com.zwq.infinity.baseplugin.BaseInput - process event failed:222,error:java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.util.LinkedHashMap<java.lang.Object,java.lang.Object>` out of VALUE_NUMBER_INT token
 at [Source: (String)"222"; line: 1, column: 1]
	at com.zwq.infinity.util.InfinityJsonUtil.parse(InfinityJsonUtil.java:47)
	at com.zwq.infinity.decoders.JsonDecoder.decode(JsonDecoder.java:13)
	at com.zwq.infinity.baseplugin.BaseInput.process(BaseInput.java:75)
	at com.zwq.infinity.plugin.inputs.Stdin.emit(Stdin.java:59)
	at com.zwq.infinity.InputEmitThread.run(InputEmitThread.java:18)
Caused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance of `java.util.LinkedHashMap<java.lang.Object,java.lang.Object>` out of VALUE_NUMBER_INT token
 at [Source: (String)"222"; line: 1, column: 1]
	at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)
	at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1468)
	at com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1242)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:373)
	at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:29)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4524)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3466)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3434)
	at com.zwq.infinity.util.InfinityJsonUtil.parse(InfinityJsonUtil.java:45)
	... 4 more

2020-11-14 16:06:19.333 [Thread-3] INFO  com.zwq.infinity.baseplugin.BaseInput - process event failed:test,error:java.lang.RuntimeException: com.fasterxml.jackson.core.JsonParseException: Unrecognized token 'test': was expecting (JSON String, Number, Array, Object or token 'null', 'true' or 'false')
 at [Source: (String)"test"; line: 1, column: 5]
	at com.zwq.infinity.util.InfinityJsonUtil.parse(InfinityJsonUtil.java:47)
	at com.zwq.infinity.decoders.JsonDecoder.decode(JsonDecoder.java:13)
	at com.zwq.infinity.baseplugin.BaseInput.process(BaseInput.java:75)
	at com.zwq.infinity.plugin.inputs.Stdin.emit(Stdin.java:59)
	at com.zwq.infinity.InputEmitThread.run(InputEmitThread.java:18)
Caused by: com.fasterxml.jackson.core.JsonParseException: Unrecognized token 'test': was expecting (JSON String, Number, Array, Object or token 'null', 'true' or 'false')
 at [Source: (String)"test"; line: 1, column: 5]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1851)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:717)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._reportInvalidToken(ReaderBasedJsonParser.java:2898)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._reportInvalidToken(ReaderBasedJsonParser.java:2876)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._matchToken2(ReaderBasedJsonParser.java:2673)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._matchToken(ReaderBasedJsonParser.java:2651)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser._matchTrue(ReaderBasedJsonParser.java:2609)
	at com.fasterxml.jackson.core.json.ReaderBasedJsonParser.nextToken(ReaderBasedJsonParser.java:741)
	at com.fasterxml.jackson.databind.ObjectMapper._initForReading(ObjectMapper.java:4662)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4511)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3466)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3434)
	at com.zwq.infinity.util.InfinityJsonUtil.parse(InfinityJsonUtil.java:45)
	... 4 more

2020-11-14 16:06:57.731 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:06:57.731 [Thread-1] INFO  com.zwq.infinity.baseplugin.BaseInput - start to shutdown com.zwq.infinity.plugin.inputs.Stdin
2020-11-14 16:06:57.731 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:06:57.731 [Thread-1] INFO  com.zwq.infinity.plugin.inputs.Stdin - Stdin Input shutdown... 
2020-11-14 16:07:07.438 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 16:07:07.445 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:./infinity-core/src/main/resources/config/test/1-stdin_to_stdout.yml
2020-11-14 16:07:07.491 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:./infinity-core/src/main/resources/config/test/1-stdin_to_stdout.yml
2020-11-14 16:07:07.707 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"plain","needHostname":true,"type":"test-type"}}],"outputs":[{"Stdout":{}}]}
2020-11-14 16:07:07.761 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 16:07:07.785 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 16:07:07.787 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 16:07:07.788 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 16:07:07.795 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 16:07:09.879 [Thread-3] INFO  com.zwq.infinity.plugin.outputs.Stdout - {"hostname":"kris.local","@timestamp":{"weekOfWeekyear":46,"secondOfDay":58029,"minuteOfDay":967,"yearOfEra":2020,"weekyear":2020,"millisOfDay":58029780,"monthOfYear":11,"hourOfDay":16,"minuteOfHour":7,"secondOfMinute":9,"millisOfSecond":780,"centuryOfEra":20,"yearOfCentury":20,"era":1,"dayOfYear":319,"dayOfWeek":6,"year":2020,"dayOfMonth":14,"chronology":{"zone":{"uncachedZone":{"fixed":false,"cachable":true,"id":"Asia/Shanghai"},"fixed":false,"id":"Asia/Shanghai"}},"zone":{"uncachedZone":{"fixed":false,"cachable":true,"id":"Asia/Shanghai"},"fixed":false,"id":"Asia/Shanghai"},"millis":1605341229780,"equalNow":false,"beforeNow":true,"afterNow":false},"message":"12312","type":"test-type"}
2020-11-14 16:07:40.251 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:07:40.251 [Thread-1] INFO  com.zwq.infinity.baseplugin.BaseInput - start to shutdown com.zwq.infinity.plugin.inputs.Stdin
2020-11-14 16:07:40.252 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:07:40.252 [Thread-1] INFO  com.zwq.infinity.plugin.inputs.Stdin - Stdin Input shutdown... 
2020-11-14 16:07:42.117 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 16:07:42.123 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:./infinity-core/src/main/resources/config/test/1-stdin_to_stdout.yml
2020-11-14 16:07:42.167 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:./infinity-core/src/main/resources/config/test/1-stdin_to_stdout.yml
2020-11-14 16:07:42.386 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"plain","needHostname":true,"type":"test-type"}}],"filters":[{"Date":{"src":"@timestamp","formats":["YYYY-MM-dd'T'HH:mm:ss.SSS'Z'","YYYY-MM-dd HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss"],"target":"@timestamp","timezone":"Asia/Shanghai"}}],"outputs":[{"Stdout":{}}]}
2020-11-14 16:07:42.449 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 16:07:42.474 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 16:07:42.475 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Date
2020-11-14 16:07:42.478 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Date done
2020-11-14 16:07:42.511 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 16:07:42.512 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 16:07:42.519 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 16:07:43.837 [Thread-3] INFO  com.zwq.infinity.plugin.outputs.Stdout - {"hostname":"kris.local","@timestamp":{"weekOfWeekyear":46,"millisOfDay":58063755,"monthOfYear":11,"hourOfDay":16,"minuteOfHour":7,"secondOfMinute":43,"millisOfSecond":755,"centuryOfEra":20,"yearOfCentury":20,"yearOfEra":2020,"secondOfDay":58063,"minuteOfDay":967,"era":1,"dayOfYear":319,"dayOfWeek":6,"year":2020,"dayOfMonth":14,"weekyear":2020,"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"},"millis":1605341263755,"chronology":{"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"}},"equalNow":false,"beforeNow":true,"afterNow":false},"message":"222","type":"test-type","tags":["datefail"]}
2020-11-14 16:09:00.967 [Thread-3] INFO  com.zwq.infinity.plugin.outputs.Stdout - {"hostname":"kris.local","@timestamp":{"weekOfWeekyear":46,"millisOfDay":58102060,"monthOfYear":11,"hourOfDay":16,"minuteOfHour":8,"secondOfMinute":22,"millisOfSecond":60,"centuryOfEra":20,"yearOfCentury":20,"yearOfEra":2020,"secondOfDay":58102,"minuteOfDay":968,"era":1,"dayOfYear":319,"dayOfWeek":6,"year":2020,"dayOfMonth":14,"weekyear":2020,"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"},"millis":1605341302060,"chronology":{"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"}},"equalNow":false,"beforeNow":true,"afterNow":false},"message":"wqeqw","type":"test-type","tags":["datefail"]}
2020-11-14 16:10:03.383 [Thread-3] INFO  com.zwq.infinity.plugin.outputs.Stdout - {"hostname":"kris.local","@timestamp":{"weekOfWeekyear":46,"millisOfDay":58169394,"monthOfYear":11,"hourOfDay":16,"minuteOfHour":9,"secondOfMinute":29,"millisOfSecond":394,"centuryOfEra":20,"yearOfCentury":20,"yearOfEra":2020,"secondOfDay":58169,"minuteOfDay":969,"era":1,"dayOfYear":319,"dayOfWeek":6,"year":2020,"dayOfMonth":14,"weekyear":2020,"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"},"millis":1605341369394,"chronology":{"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"}},"equalNow":false,"beforeNow":true,"afterNow":false},"message":"adsa","type":"test-type","tags":["datefail"]}
2020-11-14 16:10:07.305 [Thread-3] INFO  com.zwq.infinity.plugin.outputs.Stdout - {"hostname":"kris.local","@timestamp":{"weekOfWeekyear":46,"millisOfDay":58205941,"monthOfYear":11,"hourOfDay":16,"minuteOfHour":10,"secondOfMinute":5,"millisOfSecond":941,"centuryOfEra":20,"yearOfCentury":20,"yearOfEra":2020,"secondOfDay":58205,"minuteOfDay":970,"era":1,"dayOfYear":319,"dayOfWeek":6,"year":2020,"dayOfMonth":14,"weekyear":2020,"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"},"millis":1605341405941,"chronology":{"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"}},"equalNow":false,"beforeNow":true,"afterNow":false},"message":"{}","type":"test-type","tags":["datefail"]}
2020-11-14 16:10:13.308 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:10:13.308 [Thread-1] INFO  com.zwq.infinity.baseplugin.BaseInput - start to shutdown com.zwq.infinity.plugin.inputs.Stdin
2020-11-14 16:10:13.308 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:10:13.308 [Thread-1] INFO  com.zwq.infinity.plugin.inputs.Stdin - Stdin Input shutdown... 
2020-11-14 16:10:15.123 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 16:10:15.129 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:./infinity-core/src/main/resources/config/test/1-stdin_to_stdout.yml
2020-11-14 16:10:15.167 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:./infinity-core/src/main/resources/config/test/1-stdin_to_stdout.yml
2020-11-14 16:10:15.373 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"json","needHostname":true,"type":"test-type"}}],"filters":[{"Date":{"src":"@timestamp","formats":["YYYY-MM-dd'T'HH:mm:ss.SSS'Z'","YYYY-MM-dd HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss"],"target":"@timestamp","timezone":"Asia/Shanghai"}}],"outputs":[{"Stdout":{}}]}
2020-11-14 16:10:15.431 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 16:10:15.720 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 16:10:15.721 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Date
2020-11-14 16:10:15.725 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Date done
2020-11-14 16:10:15.747 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 16:10:15.748 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 16:10:15.752 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 16:10:19.059 [Thread-3] INFO  com.zwq.infinity.plugin.outputs.Stdout - {"type":"test-type","hostname":"kris.local","@timestamp":{"millisOfDay":58219000,"monthOfYear":11,"hourOfDay":16,"minuteOfHour":10,"secondOfMinute":19,"millisOfSecond":0,"secondOfDay":58219,"centuryOfEra":20,"yearOfCentury":20,"yearOfEra":2020,"minuteOfDay":970,"weekOfWeekyear":46,"era":1,"dayOfYear":319,"dayOfWeek":6,"year":2020,"dayOfMonth":14,"weekyear":2020,"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"},"millis":1605341419000,"chronology":{"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"}},"equalNow":false,"beforeNow":true,"afterNow":false}}
2020-11-14 16:11:48.931 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:11:48.931 [Thread-1] INFO  com.zwq.infinity.baseplugin.BaseInput - start to shutdown com.zwq.infinity.plugin.inputs.Stdin
2020-11-14 16:11:48.931 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:11:48.931 [Thread-1] INFO  com.zwq.infinity.plugin.inputs.Stdin - Stdin Input shutdown... 
2020-11-14 16:11:50.777 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 16:11:50.791 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:./infinity-core/src/main/resources/config/test/1-stdin_to_stdout.yml
2020-11-14 16:11:50.859 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:./infinity-core/src/main/resources/config/test/1-stdin_to_stdout.yml
2020-11-14 16:11:51.122 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"plain","needHostname":true,"type":"test-type"}}],"filters":[{"Date":{"src":"@timestamp","formats":["YYYY-MM-dd'T'HH:mm:ss.SSS'Z'","YYYY-MM-dd HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss"],"target":"@timestamp","timezone":"Asia/Shanghai"}}],"outputs":[{"Stdout":{}}]}
2020-11-14 16:11:51.203 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 16:11:51.233 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 16:11:51.234 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Date
2020-11-14 16:11:51.237 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Date done
2020-11-14 16:11:51.272 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 16:11:51.273 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 16:11:51.279 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 16:12:26.894 [Thread-3] INFO  com.zwq.infinity.plugin.outputs.Stdout - {"hostname":"kris.local","@timestamp":{"weekOfWeekyear":46,"millisOfDay":58344566,"monthOfYear":11,"hourOfDay":16,"minuteOfHour":12,"secondOfMinute":24,"millisOfSecond":566,"centuryOfEra":20,"yearOfCentury":20,"yearOfEra":2020,"secondOfDay":58344,"minuteOfDay":972,"era":1,"dayOfYear":319,"dayOfWeek":6,"year":2020,"dayOfMonth":14,"weekyear":2020,"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"},"millis":1605341544566,"chronology":{"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"}},"equalNow":false,"beforeNow":true,"afterNow":false},"message":"{}","type":"test-type","tags":["datefail"]}
2020-11-14 16:12:55.364 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:12:55.365 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:12:55.365 [Thread-1] INFO  com.zwq.infinity.baseplugin.BaseInput - start to shutdown com.zwq.infinity.plugin.inputs.Stdin
2020-11-14 16:12:55.365 [Thread-1] INFO  com.zwq.infinity.plugin.inputs.Stdin - Stdin Input shutdown... 
2020-11-14 16:12:57.116 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 16:12:57.123 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:12:57.160 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:12:57.353 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"plain","hostname":true,"type":"stdin"}}],"filters":[{"Add":{"fields":{"index_name":"logkit-render"}}},{"Date":{"src":"@timestamp","formats":["YYYY-MM-dd'T'HH:mm:ss.SSS'Z'","YYYY-MM-dd HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss"],"target":"@timestamp","timezone":"Asia/Shanghai"}}],"outputs":[{"RestElasticsearch":{"cluster":"fat_7_4_1_cluster","hosts":["10.9.47.11:41613"],"index":"test-index-%{+YYYY.MM.dd}","username":"elastic","password":"l3F9Hx65q15i4LM4GsKj5B3B","bulk_actions":10,"bulk_size":1,"flush_interval":5,"timezone":"Asia/Shanghai"}}]}
2020-11-14 16:12:57.403 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 16:12:57.407 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 16:12:57.408 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Add
2020-11-14 16:12:57.411 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Add done
2020-11-14 16:12:57.536 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Date
2020-11-14 16:12:57.536 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Date done
2020-11-14 16:12:57.564 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output RestElasticsearch
2020-11-14 16:12:57.569 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output RestElasticsearch done
2020-11-14 16:12:57.997 [main] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - 是否开启节点嗅探机制:true
2020-11-14 16:12:58.224 [main] INFO  c.z.infinity.plugin.outputs.RetryRestElasticsearch - 重试restClient^^^是否开启节点嗅探机制:true
2020-11-14 16:12:58.228 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 16:13:06.291 [pool-1-thread-1] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - after bulk2 got exception^^^bulk done with executionId: 1^^^bulk size:1^^^exception:java.net.ConnectException: Timeout connecting to [/172.13.14.54:9200]
	at org.apache.http.nio.pool.RouteSpecificPool.timeout(RouteSpecificPool.java:169)
	at org.apache.http.nio.pool.AbstractNIOConnPool.requestTimeout(AbstractNIOConnPool.java:628)
	at org.apache.http.nio.pool.AbstractNIOConnPool$InternalSessionRequestCallback.timeout(AbstractNIOConnPool.java:894)
	at org.apache.http.impl.nio.reactor.SessionRequestImpl.timeout(SessionRequestImpl.java:184)
	at org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processTimeouts(DefaultConnectingIOReactor.java:214)
	at org.apache.http.impl.nio.reactor.DefaultConnectingIOReactor.processEvents(DefaultConnectingIOReactor.java:158)
	at org.apache.http.impl.nio.reactor.AbstractMultiworkerIOReactor.execute(AbstractMultiworkerIOReactor.java:351)
	at org.apache.http.impl.nio.conn.PoolingNHttpClientConnectionManager.execute(PoolingNHttpClientConnectionManager.java:221)
	at org.apache.http.impl.nio.client.CloseableHttpAsyncClientBase$1.run(CloseableHttpAsyncClientBase.java:64)
	at java.lang.Thread.run(Thread.java:748)
	Suppressed: java.net.ConnectException: Timeout connecting to [/172.13.125.154:9200]
		... 10 more
		Suppressed: java.net.ConnectException: Timeout connecting to [/172.13.39.170:9200]
			... 10 more

2020-11-14 16:13:24.976 [Thread-1] INFO  com.zwq.infinity.baseplugin.BaseInput - start to shutdown com.zwq.infinity.plugin.inputs.Stdin
2020-11-14 16:13:24.976 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.RestElasticsearch
2020-11-14 16:13:24.976 [Thread-1] INFO  com.zwq.infinity.plugin.inputs.Stdin - Stdin Input shutdown... 
2020-11-14 16:13:24.976 [Thread-2] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - flush docs and then shutdown
2020-11-14 16:13:26.817 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 16:13:26.824 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:13:26.865 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:13:26.894 [main] ERROR com.zwq.infinity.InfinityApplication - start application error：while parsing a block mapping
 in 'reader', line 1, column 1:
    inputs:
    ^
expected <block end>, but found '<block sequence start>'
 in 'reader', line 22, column 3:
      - RestElasticsearch:
      ^

	at org.yaml.snakeyaml.parser.ParserImpl$ParseBlockMappingKey.produce(ParserImpl.java:572)
	at org.yaml.snakeyaml.parser.ParserImpl.peekEvent(ParserImpl.java:158)
	at org.yaml.snakeyaml.parser.ParserImpl.checkEvent(ParserImpl.java:148)
	at org.yaml.snakeyaml.composer.Composer.composeMappingNode(Composer.java:235)
	at org.yaml.snakeyaml.composer.Composer.composeNode(Composer.java:162)
	at org.yaml.snakeyaml.composer.Composer.getNode(Composer.java:95)
	at org.yaml.snakeyaml.composer.Composer.getSingleNode(Composer.java:119)
	at org.yaml.snakeyaml.constructor.BaseConstructor.getSingleData(BaseConstructor.java:150)
	at org.yaml.snakeyaml.Yaml.loadFromReader(Yaml.java:472)
	at org.yaml.snakeyaml.Yaml.load(Yaml.java:411)
	at com.zwq.infinity.config.InfinityConfig.parseConfigFile(InfinityConfig.java:42)
	at com.zwq.infinity.InfinityApplication.main(InfinityApplication.java:39)

2020-11-14 16:13:39.778 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 16:13:39.787 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:13:39.833 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:13:40.037 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"plain","hostname":true,"type":"stdin"}}],"filters":[{"Add":{"fields":{"index_name":"logkit-render"}}},{"Date":{"src":"@timestamp","formats":["YYYY-MM-dd'T'HH:mm:ss.SSS'Z'","YYYY-MM-dd HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss"],"target":"@timestamp","timezone":"Asia/Shanghai"}}],"outputs":[{"Stdout":{}},{"RestElasticsearch":{"cluster":"fat_7_4_1_cluster","hosts":["10.9.47.11:41613"],"index":"test-index-%{+YYYY.MM.dd}","username":"elastic","password":"l3F9Hx65q15i4LM4GsKj5B3B","bulk_actions":10,"bulk_size":1,"flush_interval":5,"timezone":"Asia/Shanghai","sniff":false}}]}
2020-11-14 16:13:40.093 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 16:13:40.099 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 16:13:40.100 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Add
2020-11-14 16:13:40.101 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Add done
2020-11-14 16:13:40.224 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Date
2020-11-14 16:13:40.224 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Date done
2020-11-14 16:13:40.252 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 16:13:40.253 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 16:13:40.254 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output RestElasticsearch
2020-11-14 16:13:40.257 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output RestElasticsearch done
2020-11-14 16:13:40.684 [main] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - 是否开启节点嗅探机制:false
2020-11-14 16:13:40.901 [main] INFO  c.z.infinity.plugin.outputs.RetryRestElasticsearch - 重试restClient^^^是否开启节点嗅探机制:false
2020-11-14 16:13:40.904 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 16:13:42.973 [Thread-4] INFO  com.zwq.infinity.plugin.outputs.Stdout - {"@timestamp":{"year":2020,"dayOfMonth":14,"era":1,"dayOfYear":319,"dayOfWeek":6,"weekyear":2020,"millisOfDay":58422889,"centuryOfEra":20,"weekOfWeekyear":46,"secondOfDay":58422,"minuteOfHour":13,"minuteOfDay":973,"hourOfDay":16,"yearOfCentury":20,"yearOfEra":2020,"monthOfYear":11,"millisOfSecond":889,"secondOfMinute":42,"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"},"millis":1605341622889,"chronology":{"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"}},"equalNow":false,"beforeNow":true,"afterNow":false},"message":"wqweq","type":"stdin","index_name":"logkit-render","tags":["datefail"]}
2020-11-14 16:13:46.132 [I/O dispatcher 1] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - bulkSuccess^^^bulk done with executionId: 1^^^bulk size:1^^^no failed docs,do not need to retry
2020-11-14 16:15:24.041 [Thread-3] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.RestElasticsearch
2020-11-14 16:15:24.041 [Thread-1] INFO  com.zwq.infinity.baseplugin.BaseInput - start to shutdown com.zwq.infinity.plugin.inputs.Stdin
2020-11-14 16:15:24.041 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:15:24.041 [Thread-3] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - flush docs and then shutdown
2020-11-14 16:15:24.041 [Thread-1] INFO  com.zwq.infinity.plugin.inputs.Stdin - Stdin Input shutdown... 
2020-11-14 16:15:24.041 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:16:01.446 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 16:16:01.453 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:16:01.495 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:16:01.715 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"plain","hostname":true,"type":"stdin"}}],"filters":[{"Add":{"fields":{"index_name":"logkit-render"}}},{"Date":{"src":"@timestamp","formats":["YYYY-MM-dd'T'HH:mm:ss.SSS'Z'","YYYY-MM-dd HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss"],"target":"@timestamp","timezone":"Asia/Shanghai"}}],"outputs":[{"Stdout":{}},{"RestElasticsearch":{"cluster":"fat_7_4_1_cluster","hosts":["10.9.47.11:41613"],"index":"test-index-%{+YYYY.MM.dd}","username":"elastic","password":"l3F9Hx65q15i4LM4GsKj5B3B","bulk_actions":10,"bulk_size":1,"flush_interval":5,"timezone":"Asia/Shanghai","sniff":false}}]}
2020-11-14 16:16:01.774 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 16:16:01.778 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 16:16:01.779 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Add
2020-11-14 16:16:01.781 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Add done
2020-11-14 16:16:01.901 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Date
2020-11-14 16:16:01.901 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Date done
2020-11-14 16:16:01.924 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 16:16:01.926 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 16:16:01.927 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output RestElasticsearch
2020-11-14 16:16:01.930 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output RestElasticsearch done
2020-11-14 16:16:02.361 [main] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - 是否开启节点嗅探机制:false
2020-11-14 16:16:02.594 [main] INFO  c.z.infinity.plugin.outputs.RetryRestElasticsearch - 重试restClient^^^是否开启节点嗅探机制:false
2020-11-14 16:16:02.599 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 16:16:02.729 [Thread-4] INFO  com.zwq.infinity.plugin.outputs.Stdout - {"@timestamp":{"year":2020,"dayOfMonth":14,"era":1,"dayOfYear":319,"dayOfWeek":6,"weekyear":2020,"millisOfDay":58562666,"centuryOfEra":20,"weekOfWeekyear":46,"secondOfDay":58562,"minuteOfHour":16,"minuteOfDay":976,"hourOfDay":16,"yearOfCentury":20,"yearOfEra":2020,"monthOfYear":11,"millisOfSecond":666,"secondOfMinute":2,"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"},"millis":1605341762666,"chronology":{"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"}},"equalNow":false,"beforeNow":true,"afterNow":false},"message":"","type":"stdin","index_name":"logkit-render","tags":["datefail"]}
2020-11-14 16:16:03.469 [Thread-4] INFO  com.zwq.infinity.plugin.outputs.Stdout - {"@timestamp":{"year":2020,"dayOfMonth":14,"era":1,"dayOfYear":319,"dayOfWeek":6,"weekyear":2020,"millisOfDay":58563468,"centuryOfEra":20,"weekOfWeekyear":46,"secondOfDay":58563,"minuteOfHour":16,"minuteOfDay":976,"hourOfDay":16,"yearOfCentury":20,"yearOfEra":2020,"monthOfYear":11,"millisOfSecond":468,"secondOfMinute":3,"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"},"millis":1605341763468,"chronology":{"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"}},"equalNow":false,"beforeNow":true,"afterNow":false},"message":"12312","type":"stdin","index_name":"logkit-render","tags":["datefail"]}
2020-11-14 16:16:07.857 [I/O dispatcher 1] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - bulkSuccess^^^bulk done with executionId: 1^^^bulk size:2^^^no failed docs,do not need to retry
2020-11-14 16:16:59.611 [Thread-1] INFO  com.zwq.infinity.baseplugin.BaseInput - start to shutdown com.zwq.infinity.plugin.inputs.Stdin
2020-11-14 16:16:59.611 [Thread-3] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.RestElasticsearch
2020-11-14 16:16:59.611 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:16:59.611 [Thread-1] INFO  com.zwq.infinity.plugin.inputs.Stdin - Stdin Input shutdown... 
2020-11-14 16:16:59.611 [Thread-3] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - flush docs and then shutdown
2020-11-14 16:16:59.611 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:17:01.528 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 16:17:01.536 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:17:01.579 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:17:01.799 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"plain","hostname":true,"type":"stdin"}}],"filters":[{"Add":{"fields":{"index_name":"logkit-render"}}},{"Date":{"src":"@timestamp","formats":["YYYY-MM-dd'T'HH:mm:ss.SSS'Z'","YYYY-MM-dd HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss"],"target":"@timestamp","timezone":"Asia/Shanghai"}}],"outputs":[{"Stdout":{}},{"RestElasticsearch":{"cluster":"fat_7_4_1_cluster","hosts":["10.9.47.11:41613"],"index":"test-index-%{+YYYY.MM.dd}","username":"elastic","password":"l3F9Hx65q15i4LM4GsKj5B3B","bulk_actions":10,"bulk_size":1,"flush_interval":5,"timezone":"Asia/Shanghai","sniff":false}}]}
2020-11-14 16:17:01.848 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 16:17:01.852 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 16:17:01.853 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Add
2020-11-14 16:17:01.854 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Add done
2020-11-14 16:17:01.975 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Date
2020-11-14 16:17:01.975 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Date done
2020-11-14 16:17:01.999 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 16:17:01.999 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 16:17:02.000 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output RestElasticsearch
2020-11-14 16:17:02.003 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output RestElasticsearch done
2020-11-14 16:17:02.448 [main] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - 是否开启节点嗅探机制:false
2020-11-14 16:17:02.665 [main] INFO  c.z.infinity.plugin.outputs.RetryRestElasticsearch - 重试restClient^^^是否开启节点嗅探机制:false
2020-11-14 16:17:02.669 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 16:17:08.263 [Thread-1] INFO  com.zwq.infinity.baseplugin.BaseInput - start to shutdown com.zwq.infinity.plugin.inputs.Stdin
2020-11-14 16:17:08.264 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:17:08.264 [Thread-1] INFO  com.zwq.infinity.plugin.inputs.Stdin - Stdin Input shutdown... 
2020-11-14 16:17:08.264 [Thread-3] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.RestElasticsearch
2020-11-14 16:17:08.264 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:17:08.264 [Thread-3] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - flush docs and then shutdown
2020-11-14 16:17:10.160 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 16:17:10.168 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:17:10.217 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:17:10.444 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"plain","hostname":true,"type":"stdin"}}],"filters":[{"Add":{"fields":{"index_name":"logkit-render"}}},{"Date":{"src":"@timestamp","formats":["YYYY-MM-dd'T'HH:mm:ss.SSS'Z'","YYYY-MM-dd HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss"],"target":"@timestamp","timezone":"Asia/Shanghai"}},{"Rename":{"fields":{"index_name":"name"}}}],"outputs":[{"Stdout":{}},{"RestElasticsearch":{"cluster":"fat_7_4_1_cluster","hosts":["10.9.47.11:41613"],"index":"test-index-%{+YYYY.MM.dd}","username":"elastic","password":"l3F9Hx65q15i4LM4GsKj5B3B","bulk_actions":10,"bulk_size":1,"flush_interval":5,"timezone":"Asia/Shanghai","sniff":false}}]}
2020-11-14 16:17:10.499 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 16:17:10.504 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 16:17:10.505 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Add
2020-11-14 16:17:10.506 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Add done
2020-11-14 16:17:10.611 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Date
2020-11-14 16:17:10.612 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Date done
2020-11-14 16:17:10.634 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Rename
2020-11-14 16:17:10.637 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Rename done
2020-11-14 16:17:10.638 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 16:17:10.639 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 16:17:10.640 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output RestElasticsearch
2020-11-14 16:17:10.643 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output RestElasticsearch done
2020-11-14 16:17:11.084 [main] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - 是否开启节点嗅探机制:false
2020-11-14 16:17:11.311 [main] INFO  c.z.infinity.plugin.outputs.RetryRestElasticsearch - 重试restClient^^^是否开启节点嗅探机制:false
2020-11-14 16:17:11.316 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 16:17:12.160 [Thread-4] INFO  com.zwq.infinity.plugin.outputs.Stdout - {"@timestamp":{"year":2020,"dayOfMonth":14,"era":1,"dayOfYear":319,"dayOfWeek":6,"weekyear":2020,"millisOfDay":58632074,"yearOfCentury":20,"centuryOfEra":20,"yearOfEra":2020,"monthOfYear":11,"weekOfWeekyear":46,"millisOfSecond":74,"secondOfMinute":12,"secondOfDay":58632,"minuteOfHour":17,"minuteOfDay":977,"hourOfDay":16,"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"},"millis":1605341832074,"chronology":{"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"}},"equalNow":false,"beforeNow":true,"afterNow":false},"name":"logkit-render","message":"2222","type":"stdin","tags":["datefail"]}
2020-11-14 16:17:16.475 [I/O dispatcher 1] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - bulkSuccess^^^bulk done with executionId: 1^^^bulk size:1^^^no failed docs,do not need to retry
2020-11-14 16:19:22.702 [Thread-4] INFO  com.zwq.infinity.plugin.outputs.Stdout - {"@timestamp":{"year":2020,"dayOfMonth":14,"era":1,"dayOfYear":319,"dayOfWeek":6,"weekyear":2020,"millisOfDay":58740184,"yearOfCentury":20,"centuryOfEra":20,"yearOfEra":2020,"monthOfYear":11,"weekOfWeekyear":46,"millisOfSecond":184,"secondOfMinute":0,"secondOfDay":58740,"minuteOfHour":19,"minuteOfDay":979,"hourOfDay":16,"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"},"millis":1605341940184,"chronology":{"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"}},"equalNow":false,"beforeNow":true,"afterNow":false},"name":"logkit-render","message":"222","type":"stdin","tags":["datefail"]}
2020-11-14 16:19:22.705 [Thread-4] INFO  com.zwq.infinity.plugin.inputs.Stdin - Stdin loop got exception
java.io.IOException: Bad file descriptor
	at java.io.FileInputStream.readBytes(Native Method)
	at java.io.FileInputStream.read(FileInputStream.java:255)
	at java.io.BufferedInputStream.read1(BufferedInputStream.java:284)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:345)
	at sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:284)
	at sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:326)
	at sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)
	at java.io.InputStreamReader.read(InputStreamReader.java:184)
	at java.io.BufferedReader.fill(BufferedReader.java:161)
	at java.io.BufferedReader.readLine(BufferedReader.java:324)
	at java.io.BufferedReader.readLine(BufferedReader.java:389)
	at com.zwq.infinity.plugin.inputs.Stdin.emit(Stdin.java:58)
	at com.zwq.infinity.InputEmitThread.run(InputEmitThread.java:18)
2020-11-14 16:19:22.743 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:19:22.743 [Thread-1] INFO  com.zwq.infinity.baseplugin.BaseInput - start to shutdown com.zwq.infinity.plugin.inputs.Stdin
2020-11-14 16:19:22.743 [Thread-3] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.RestElasticsearch
2020-11-14 16:19:22.743 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:19:22.743 [Thread-1] INFO  com.zwq.infinity.plugin.inputs.Stdin - Stdin Input shutdown... 
2020-11-14 16:19:22.743 [Thread-3] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - flush docs and then shutdown
2020-11-14 16:19:22.755 [I/O dispatcher 1] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - bulkSuccess^^^bulk done with executionId: 2^^^bulk size:1^^^no failed docs,do not need to retry
2020-11-14 16:19:24.677 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 16:19:24.684 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:19:24.727 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:19:24.936 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"plain","hostname":true,"type":"stdin"}}],"filters":[{"Add":{"fields":{"index_name":"logkit-render"}}},{"Date":{"src":"@timestamp","formats":["YYYY-MM-dd'T'HH:mm:ss.SSS'Z'","YYYY-MM-dd'T'HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss"],"target":"@timestamp","timezone":"Asia/Shanghai"}},{"Rename":{"fields":{"index_name":"name"}}}],"outputs":[{"Stdout":{}},{"RestElasticsearch":{"cluster":"fat_7_4_1_cluster","hosts":["10.9.47.11:41613"],"index":"test-index-%{+YYYY.MM.dd}","username":"elastic","password":"l3F9Hx65q15i4LM4GsKj5B3B","bulk_actions":10,"bulk_size":1,"flush_interval":5,"timezone":"Asia/Shanghai","sniff":false}}]}
2020-11-14 16:19:24.993 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 16:19:24.997 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 16:19:24.998 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Add
2020-11-14 16:19:24.999 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Add done
2020-11-14 16:19:25.114 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Date
2020-11-14 16:19:25.121 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Date done
2020-11-14 16:19:25.146 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Rename
2020-11-14 16:19:25.147 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Rename done
2020-11-14 16:19:25.149 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 16:19:25.152 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 16:19:25.153 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output RestElasticsearch
2020-11-14 16:19:25.156 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output RestElasticsearch done
2020-11-14 16:19:25.613 [main] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - 是否开启节点嗅探机制:false
2020-11-14 16:19:25.837 [main] INFO  c.z.infinity.plugin.outputs.RetryRestElasticsearch - 重试restClient^^^是否开启节点嗅探机制:false
2020-11-14 16:19:25.840 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 16:20:02.541 [Thread-3] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.RestElasticsearch
2020-11-14 16:20:02.542 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:20:02.542 [Thread-3] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - flush docs and then shutdown
2020-11-14 16:20:02.542 [Thread-1] INFO  com.zwq.infinity.baseplugin.BaseInput - start to shutdown com.zwq.infinity.plugin.inputs.Stdin
2020-11-14 16:20:02.542 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:20:02.542 [Thread-1] INFO  com.zwq.infinity.plugin.inputs.Stdin - Stdin Input shutdown... 
2020-11-14 16:20:04.467 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 16:20:04.474 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:20:04.520 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:20:04.739 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"plain","hostname":true,"type":"stdin"}}],"filters":[{"Add":{"fields":{"index_name":"logkit-render"}}},{"Date":{"src":"@timestamp","formats":["YYYY-MM-dd'T'HH:mm:ss.SSS'Z'","YYYY-MM-dd'T'HH:mm:ss.SSS+8.00","YYYY-MM-dd HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss"],"target":"@timestamp","timezone":"Asia/Shanghai"}},{"Rename":{"fields":{"index_name":"name"}}}],"outputs":[{"Stdout":{}},{"RestElasticsearch":{"cluster":"fat_7_4_1_cluster","hosts":["10.9.47.11:41613"],"index":"test-index-%{+YYYY.MM.dd}","username":"elastic","password":"l3F9Hx65q15i4LM4GsKj5B3B","bulk_actions":10,"bulk_size":1,"flush_interval":5,"timezone":"Asia/Shanghai","sniff":false}}]}
2020-11-14 16:20:04.795 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 16:20:04.800 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 16:20:04.800 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Add
2020-11-14 16:20:04.801 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Add done
2020-11-14 16:20:04.922 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Date
2020-11-14 16:20:04.925 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Date done
2020-11-14 16:20:04.953 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Rename
2020-11-14 16:20:04.954 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Rename done
2020-11-14 16:20:04.955 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 16:20:04.956 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 16:20:04.957 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output RestElasticsearch
2020-11-14 16:20:04.960 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output RestElasticsearch done
2020-11-14 16:20:05.367 [main] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - 是否开启节点嗅探机制:false
2020-11-14 16:20:05.596 [main] INFO  c.z.infinity.plugin.outputs.RetryRestElasticsearch - 重试restClient^^^是否开启节点嗅探机制:false
2020-11-14 16:20:05.599 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 16:21:25.620 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:21:25.620 [Thread-1] INFO  com.zwq.infinity.baseplugin.BaseInput - start to shutdown com.zwq.infinity.plugin.inputs.Stdin
2020-11-14 16:21:25.620 [Thread-3] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.RestElasticsearch
2020-11-14 16:21:25.620 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:21:25.620 [Thread-1] INFO  com.zwq.infinity.plugin.inputs.Stdin - Stdin Input shutdown... 
2020-11-14 16:21:25.620 [Thread-3] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - flush docs and then shutdown
2020-11-14 16:21:27.411 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 16:21:27.416 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:21:27.453 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:21:27.652 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"plain","hostname":true,"type":"stdin"}}],"filters":[{"Add":{"fields":{"index_name":"logkit-render"}}},{"Date":{"src":"@timestamp","formats":["YYYY-MM-dd'T'HH:mm:ss.SSS'Z'","YYYY-MM-dd'T'HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss"],"target":"@timestamp","timezone":"GMT+8"}},{"Rename":{"fields":{"index_name":"name"}}}],"outputs":[{"Stdout":{}},{"RestElasticsearch":{"cluster":"fat_7_4_1_cluster","hosts":["10.9.47.11:41613"],"index":"test-index-%{+YYYY.MM.dd}","username":"elastic","password":"l3F9Hx65q15i4LM4GsKj5B3B","bulk_actions":10,"bulk_size":1,"flush_interval":5,"timezone":"Asia/Shanghai","sniff":false}}]}
2020-11-14 16:21:27.699 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 16:21:27.705 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 16:21:27.706 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Add
2020-11-14 16:21:27.707 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Add done
2020-11-14 16:21:27.829 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Date
2020-11-14 16:21:27.832 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Date done
2020-11-14 16:21:27.849 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter  error:java.lang.reflect.InvocationTargetException
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:423)
	at com.zwq.infinity.baseplugin.InfinityBuilder.lambda$null$2(InfinityBuilder.java:91)
	at java.util.LinkedHashMap.forEach(LinkedHashMap.java:684)
	at com.zwq.infinity.baseplugin.InfinityBuilder.lambda$buildFilters$3(InfinityBuilder.java:78)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at com.zwq.infinity.baseplugin.InfinityBuilder.buildFilters(InfinityBuilder.java:77)
	at com.zwq.infinity.baseplugin.InfinityBuilder.build(InfinityBuilder.java:149)
	at com.zwq.infinity.InfinityApplication.main(InfinityApplication.java:48)
Caused by: java.lang.IllegalArgumentException: The datetime zone id 'GMT+8' is not recognised
	at org.joda.time.DateTimeZone.forID(DateTimeZone.java:229)
	at com.zwq.infinity.plugin.filters.dateparser.FormatParser.<init>(FormatParser.java:18)
	at com.zwq.infinity.plugin.filters.Date.lambda$prepare$0(Date.java:71)
	at java.util.ArrayList.forEach(ArrayList.java:1259)
	at com.zwq.infinity.plugin.filters.Date.prepare(Date.java:62)
	at com.zwq.infinity.baseplugin.BaseFilter.<init>(BaseFilter.java:61)
	at com.zwq.infinity.plugin.filters.Date.<init>(Date.java:34)
	... 11 more

2020-11-14 16:21:27.849 [Thread-1] INFO  com.zwq.infinity.baseplugin.BaseInput - start to shutdown com.zwq.infinity.plugin.inputs.Stdin
2020-11-14 16:21:27.849 [Thread-1] INFO  com.zwq.infinity.plugin.inputs.Stdin - Stdin Input shutdown... 
2020-11-14 16:21:39.855 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 16:21:39.861 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:21:39.900 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:21:40.088 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"plain","hostname":true,"type":"stdin"}}],"filters":[{"Add":{"fields":{"index_name":"logkit-render"}}},{"Date":{"src":"@timestamp","formats":["YYYY-MM-dd'T'HH:mm:ss.SSS'Z'","YYYY-MM-dd'T'HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss"],"target":"@timestamp","timezone":"Asia/Shanghai"}},{"Rename":{"fields":{"index_name":"name"}}}],"outputs":[{"Stdout":{}},{"RestElasticsearch":{"cluster":"fat_7_4_1_cluster","hosts":["10.9.47.11:41613"],"index":"test-index-%{+YYYY.MM.dd}","username":"elastic","password":"l3F9Hx65q15i4LM4GsKj5B3B","bulk_actions":10,"bulk_size":1,"flush_interval":5,"timezone":"Asia/Shanghai","sniff":false}}]}
2020-11-14 16:21:40.137 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 16:21:40.142 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 16:21:40.143 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Add
2020-11-14 16:21:40.144 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Add done
2020-11-14 16:21:40.260 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Date
2020-11-14 16:21:40.263 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Date done
2020-11-14 16:21:40.287 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Rename
2020-11-14 16:21:40.288 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Rename done
2020-11-14 16:21:40.289 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 16:21:40.290 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 16:21:40.291 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output RestElasticsearch
2020-11-14 16:21:40.294 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output RestElasticsearch done
2020-11-14 16:21:40.702 [main] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - 是否开启节点嗅探机制:false
2020-11-14 16:21:40.921 [main] INFO  c.z.infinity.plugin.outputs.RetryRestElasticsearch - 重试restClient^^^是否开启节点嗅探机制:false
2020-11-14 16:21:40.924 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 16:21:53.829 [Thread-3] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.RestElasticsearch
2020-11-14 16:21:53.830 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:21:53.830 [Thread-1] INFO  com.zwq.infinity.baseplugin.BaseInput - start to shutdown com.zwq.infinity.plugin.inputs.Stdin
2020-11-14 16:21:53.830 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:21:53.830 [Thread-3] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - flush docs and then shutdown
2020-11-14 16:21:53.830 [Thread-1] INFO  com.zwq.infinity.plugin.inputs.Stdin - Stdin Input shutdown... 
2020-11-14 16:21:55.751 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 16:21:55.758 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:21:55.798 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:21:56.005 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"plain","hostname":true,"type":"stdin"}}],"filters":[{"Add":{"fields":{"index_name":"logkit-render"}}},{"Date":{"src":"@timestamp","formats":["YYYY-MM-dd'T'HH:mm:ss.SSS'Z'","YYYY-MM-dd'T'HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss"],"target":"@timestamp","timezone":"Asia/Shanghai"}},{"Rename":{"fields":{"index_name":"name"}}}],"outputs":[{"Stdout":{}},{"RestElasticsearch":{"cluster":"fat_7_4_1_cluster","hosts":["10.9.47.11:41613"],"index":"test-index-%{+YYYY.MM.dd}","username":"elastic","password":"l3F9Hx65q15i4LM4GsKj5B3B","bulk_actions":10,"bulk_size":1,"flush_interval":5,"timezone":"Asia/Shanghai","sniff":false}}]}
2020-11-14 16:21:56.051 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 16:21:56.056 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 16:21:56.056 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Add
2020-11-14 16:21:56.057 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Add done
2020-11-14 16:21:56.168 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Date
2020-11-14 16:21:56.172 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Date done
2020-11-14 16:22:07.184 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Rename
2020-11-14 16:22:07.185 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Rename done
2020-11-14 16:22:07.186 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 16:22:07.187 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 16:22:07.188 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output RestElasticsearch
2020-11-14 16:22:07.192 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output RestElasticsearch done
2020-11-14 16:22:07.201 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:22:07.201 [Thread-1] INFO  com.zwq.infinity.baseplugin.BaseInput - start to shutdown com.zwq.infinity.plugin.inputs.Stdin
2020-11-14 16:22:07.202 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:22:07.202 [Thread-1] INFO  com.zwq.infinity.plugin.inputs.Stdin - Stdin Input shutdown... 
2020-11-14 16:22:09.012 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 16:22:09.018 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:22:09.058 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:22:09.250 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"plain","hostname":true,"type":"stdin"}}],"filters":[{"Add":{"fields":{"index_name":"logkit-render"}}},{"Date":{"src":"@timestamp","formats":["YYYY-MM-dd'T'HH:mm:ss.SSS'Z'","YYYY-MM-dd'T'HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss"],"target":"@timestamp","timezone":"Asia/Shanghai"}},{"Rename":{"fields":{"index_name":"name"}}}],"outputs":[{"Stdout":{}},{"RestElasticsearch":{"cluster":"fat_7_4_1_cluster","hosts":["10.9.47.11:41613"],"index":"test-index-%{+YYYY.MM.dd}","username":"elastic","password":"l3F9Hx65q15i4LM4GsKj5B3B","bulk_actions":10,"bulk_size":1,"flush_interval":5,"timezone":"Asia/Shanghai","sniff":false}}]}
2020-11-14 16:22:09.301 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 16:22:09.307 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 16:22:09.308 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Add
2020-11-14 16:22:09.309 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Add done
2020-11-14 16:22:09.416 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Date
2020-11-14 16:22:09.427 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Date done
2020-11-14 16:22:50.177 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Rename
2020-11-14 16:22:50.178 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Rename done
2020-11-14 16:22:50.180 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 16:22:50.181 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 16:22:50.181 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output RestElasticsearch
2020-11-14 16:22:50.184 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output RestElasticsearch done
2020-11-14 16:22:50.190 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:22:50.190 [Thread-1] INFO  com.zwq.infinity.baseplugin.BaseInput - start to shutdown com.zwq.infinity.plugin.inputs.Stdin
2020-11-14 16:22:50.190 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:22:50.190 [Thread-1] INFO  com.zwq.infinity.plugin.inputs.Stdin - Stdin Input shutdown... 
2020-11-14 16:22:53.085 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 16:22:53.091 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:22:53.128 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:22:53.347 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"plain","hostname":true,"type":"stdin"}}],"filters":[{"Add":{"fields":{"index_name":"logkit-render"}}},{"Date":{"src":"@timestamp","formats":["YYYY-MM-dd'T'HH:mm:ss.SSS'Z'","YYYY-MM-dd'T'HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss"],"target":"@timestamp","timezone":"Asia/Shanghai"}},{"Rename":{"fields":{"index_name":"name"}}}],"outputs":[{"Stdout":{}},{"RestElasticsearch":{"cluster":"fat_7_4_1_cluster","hosts":["10.9.47.11:41613"],"index":"test-index-%{+YYYY.MM.dd}","username":"elastic","password":"l3F9Hx65q15i4LM4GsKj5B3B","bulk_actions":10,"bulk_size":1,"flush_interval":5,"timezone":"Asia/Shanghai","sniff":false}}]}
2020-11-14 16:22:53.395 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 16:22:53.400 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 16:22:53.401 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Add
2020-11-14 16:22:53.403 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Add done
2020-11-14 16:22:53.520 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Date
2020-11-14 16:22:53.525 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Date done
2020-11-14 16:23:30.281 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Rename
2020-11-14 16:23:30.282 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Rename done
2020-11-14 16:23:30.284 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 16:23:30.285 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 16:23:30.286 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output RestElasticsearch
2020-11-14 16:23:30.290 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output RestElasticsearch done
2020-11-14 16:23:30.671 [main] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - 是否开启节点嗅探机制:false
2020-11-14 16:23:30.885 [main] INFO  c.z.infinity.plugin.outputs.RetryRestElasticsearch - 重试restClient^^^是否开启节点嗅探机制:false
2020-11-14 16:23:30.888 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 16:23:50.041 [Thread-4] INFO  com.zwq.infinity.plugin.outputs.Stdout - {"@timestamp":{"era":1,"dayOfYear":319,"dayOfWeek":6,"year":2020,"dayOfMonth":14,"weekyear":2020,"millisOfDay":59013404,"centuryOfEra":20,"weekOfWeekyear":46,"secondOfDay":59013,"minuteOfHour":23,"minuteOfDay":983,"hourOfDay":16,"yearOfCentury":20,"yearOfEra":2020,"monthOfYear":11,"millisOfSecond":404,"secondOfMinute":33,"zone":{"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"fixed":false,"id":"Asia/Shanghai"},"millis":1605342213404,"chronology":{"zone":{"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"fixed":false,"id":"Asia/Shanghai"}},"equalNow":false,"beforeNow":true,"afterNow":false},"name":"logkit-render","message":"2333","type":"stdin","tags":["datefail"]}
2020-11-14 16:23:53.498 [I/O dispatcher 1] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - bulkSuccess^^^bulk done with executionId: 1^^^bulk size:1^^^no failed docs,do not need to retry
2020-11-14 16:24:11.959 [Thread-3] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.RestElasticsearch
2020-11-14 16:24:11.959 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:24:11.959 [Thread-1] INFO  com.zwq.infinity.baseplugin.BaseInput - start to shutdown com.zwq.infinity.plugin.inputs.Stdin
2020-11-14 16:24:11.959 [Thread-3] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - flush docs and then shutdown
2020-11-14 16:24:11.959 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:24:11.959 [Thread-1] INFO  com.zwq.infinity.plugin.inputs.Stdin - Stdin Input shutdown... 
2020-11-14 16:24:15.190 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 16:24:15.197 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:24:15.238 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:24:15.444 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"plain","hostname":true,"type":"stdin"}}],"filters":[{"Add":{"fields":{"index_name":"logkit-render"}}},{"Date":{"src":"@timestamp","formats":["YYYY-MM-dd'T'HH:mm:ss.SSS'Z'","YYYY-MM-dd'T'HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss"],"target":"@timestamp","timezone":"Asia/Shanghai"}},{"Rename":{"fields":{"index_name":"name"}}}],"outputs":[{"Stdout":{}},{"RestElasticsearch":{"cluster":"fat_7_4_1_cluster","hosts":["10.9.47.11:41613"],"index":"test-index-%{+YYYY.MM.dd}","username":"elastic","password":"l3F9Hx65q15i4LM4GsKj5B3B","bulk_actions":10,"bulk_size":1,"flush_interval":5,"timezone":"Asia/Shanghai","sniff":false}}]}
2020-11-14 16:24:15.495 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 16:24:15.501 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 16:24:15.501 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Add
2020-11-14 16:24:15.503 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Add done
2020-11-14 16:24:15.606 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Date
2020-11-14 16:24:15.611 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Date done
2020-11-14 16:24:15.636 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Rename
2020-11-14 16:24:15.637 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Rename done
2020-11-14 16:24:15.638 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 16:24:15.638 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 16:24:15.639 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output RestElasticsearch
2020-11-14 16:24:15.641 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output RestElasticsearch done
2020-11-14 16:24:16.035 [main] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - 是否开启节点嗅探机制:false
2020-11-14 16:24:16.241 [main] INFO  c.z.infinity.plugin.outputs.RetryRestElasticsearch - 重试restClient^^^是否开启节点嗅探机制:false
2020-11-14 16:24:16.244 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 16:24:21.942 [Thread-4] INFO  com.zwq.infinity.plugin.filters.Date - parser "2020-11-14T16:24:18.799+08:00" failed, try next
2020-11-14 16:24:21.943 [Thread-4] INFO  com.zwq.infinity.plugin.filters.Date - parser "2020-11-14T16:24:18.799+08:00" failed, try next
2020-11-14 16:24:21.944 [Thread-4] INFO  com.zwq.infinity.plugin.filters.Date - parser "2020-11-14T16:24:18.799+08:00" failed, try next
2020-11-14 16:24:21.944 [Thread-4] INFO  com.zwq.infinity.plugin.filters.Date - parser "2020-11-14T16:24:18.799+08:00" failed, try next
2020-11-14 16:24:22.000 [Thread-4] INFO  com.zwq.infinity.plugin.outputs.Stdout - {"@timestamp":{"era":1,"dayOfYear":319,"dayOfWeek":6,"year":2020,"dayOfMonth":14,"weekyear":2020,"millisOfDay":59058799,"yearOfCentury":20,"centuryOfEra":20,"yearOfEra":2020,"monthOfYear":11,"weekOfWeekyear":46,"millisOfSecond":799,"secondOfMinute":18,"secondOfDay":59058,"minuteOfHour":24,"minuteOfDay":984,"hourOfDay":16,"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"},"millis":1605342258799,"chronology":{"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"}},"equalNow":false,"beforeNow":true,"afterNow":false},"name":"logkit-render","message":"88'","type":"stdin","tags":["datefail"]}
2020-11-14 16:24:27.065 [I/O dispatcher 1] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - bulkSuccess^^^bulk done with executionId: 1^^^bulk size:1^^^no failed docs,do not need to retry
2020-11-14 16:25:04.433 [Thread-3] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.RestElasticsearch
2020-11-14 16:25:04.433 [Thread-1] INFO  com.zwq.infinity.baseplugin.BaseInput - start to shutdown com.zwq.infinity.plugin.inputs.Stdin
2020-11-14 16:25:04.433 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:25:04.434 [Thread-1] INFO  com.zwq.infinity.plugin.inputs.Stdin - Stdin Input shutdown... 
2020-11-14 16:25:04.434 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:25:04.434 [Thread-3] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - flush docs and then shutdown
2020-11-14 16:25:07.484 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 16:25:07.491 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:25:07.531 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:25:07.740 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"plain","hostname":true,"type":"stdin"}}],"filters":[{"Add":{"fields":{"index_name":"logkit-render"}}},{"Date":{"src":"@timestamp","formats":["YYYY-MM-dd'T'HH:mm:ss.SSS'Z'","YYYY-MM-dd'T'HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss"],"target":"@timestamp","timezone":"Asia/Shanghai"}},{"Rename":{"fields":{"index_name":"name"}}}],"outputs":[{"Stdout":{}},{"RestElasticsearch":{"cluster":"fat_7_4_1_cluster","hosts":["10.9.47.11:41613"],"index":"test-index-%{+YYYY.MM.dd}","username":"elastic","password":"l3F9Hx65q15i4LM4GsKj5B3B","bulk_actions":10,"bulk_size":1,"flush_interval":5,"timezone":"Asia/Shanghai","sniff":false}}]}
2020-11-14 16:25:07.801 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 16:25:07.808 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 16:25:07.809 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Add
2020-11-14 16:25:07.810 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Add done
2020-11-14 16:25:07.920 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Date
2020-11-14 16:25:07.920 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Date done
2020-11-14 16:25:07.940 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Rename
2020-11-14 16:25:07.941 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Rename done
2020-11-14 16:25:07.942 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 16:25:07.943 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 16:25:07.944 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output RestElasticsearch
2020-11-14 16:25:07.946 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output RestElasticsearch done
2020-11-14 16:25:08.385 [main] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - 是否开启节点嗅探机制:false
2020-11-14 16:25:08.596 [main] INFO  c.z.infinity.plugin.outputs.RetryRestElasticsearch - 重试restClient^^^是否开启节点嗅探机制:false
2020-11-14 16:25:08.599 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 16:25:11.531 [Thread-4] INFO  com.zwq.infinity.plugin.filters.Date - parser date failed,try next,date:2020-11-14T16:25:11.509+08:00
2020-11-14 16:25:11.532 [Thread-4] INFO  com.zwq.infinity.plugin.filters.Date - parser date failed,try next,date:2020-11-14T16:25:11.509+08:00
2020-11-14 16:25:11.532 [Thread-4] INFO  com.zwq.infinity.plugin.filters.Date - parser date failed,try next,date:2020-11-14T16:25:11.509+08:00
2020-11-14 16:25:11.532 [Thread-4] INFO  com.zwq.infinity.plugin.filters.Date - parser date failed,try next,date:2020-11-14T16:25:11.509+08:00
2020-11-14 16:25:11.574 [Thread-4] INFO  com.zwq.infinity.plugin.outputs.Stdout - {"@timestamp":{"era":1,"dayOfYear":319,"dayOfWeek":6,"year":2020,"dayOfMonth":14,"weekyear":2020,"millisOfDay":59111509,"centuryOfEra":20,"weekOfWeekyear":46,"yearOfCentury":20,"yearOfEra":2020,"monthOfYear":11,"millisOfSecond":509,"secondOfMinute":11,"secondOfDay":59111,"minuteOfHour":25,"minuteOfDay":985,"hourOfDay":16,"zone":{"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"fixed":false,"id":"Asia/Shanghai"},"millis":1605342311509,"chronology":{"zone":{"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"fixed":false,"id":"Asia/Shanghai"}},"equalNow":false,"beforeNow":true,"afterNow":false},"name":"logkit-render","message":"444","type":"stdin","tags":["datefail"]}
2020-11-14 16:25:13.709 [I/O dispatcher 1] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - bulkSuccess^^^bulk done with executionId: 1^^^bulk size:1^^^no failed docs,do not need to retry
2020-11-14 16:25:30.671 [Thread-3] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.RestElasticsearch
2020-11-14 16:25:30.671 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:25:30.671 [Thread-1] INFO  com.zwq.infinity.baseplugin.BaseInput - start to shutdown com.zwq.infinity.plugin.inputs.Stdin
2020-11-14 16:25:30.671 [Thread-3] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - flush docs and then shutdown
2020-11-14 16:25:30.671 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:25:30.671 [Thread-1] INFO  com.zwq.infinity.plugin.inputs.Stdin - Stdin Input shutdown... 
2020-11-14 16:25:32.613 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 16:25:32.620 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:25:32.665 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:25:32.862 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"plain","hostname":true,"type":"stdin"}}],"filters":[{"Add":{"fields":{"index_name":"logkit-render"}}},{"Date":{"src":"@timestamp","formats":["YYYY-MM-dd'T'HH:mm:ss.SSS'Z'","YYYY-MM-dd'T'HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss"],"target":"@timestamp","timezone":"Asia/Shanghai"}},{"Rename":{"fields":{"index_name":"name"}}}],"outputs":[{"Stdout":{}},{"RestElasticsearch":{"cluster":"fat_7_4_1_cluster","hosts":["10.9.47.11:41613"],"index":"test-index-%{+YYYY.MM.dd}","username":"elastic","password":"l3F9Hx65q15i4LM4GsKj5B3B","bulk_actions":10,"bulk_size":1,"flush_interval":5,"timezone":"Asia/Shanghai","sniff":false}}]}
2020-11-14 16:25:32.921 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 16:25:32.927 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 16:25:32.928 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Add
2020-11-14 16:25:32.929 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Add done
2020-11-14 16:25:33.040 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Date
2020-11-14 16:25:33.041 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Date done
2020-11-14 16:25:33.060 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Rename
2020-11-14 16:25:33.060 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Rename done
2020-11-14 16:25:33.061 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 16:25:33.062 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 16:25:33.063 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output RestElasticsearch
2020-11-14 16:25:33.065 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output RestElasticsearch done
2020-11-14 16:25:33.491 [main] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - 是否开启节点嗅探机制:false
2020-11-14 16:25:33.696 [main] INFO  c.z.infinity.plugin.outputs.RetryRestElasticsearch - 重试restClient^^^是否开启节点嗅探机制:false
2020-11-14 16:25:33.699 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 16:25:37.104 [Thread-4] INFO  com.zwq.infinity.plugin.filters.Date - parser date failed,try next,date:2020-11-14T16:25:37.080+08:00
2020-11-14 16:25:37.104 [Thread-4] INFO  com.zwq.infinity.plugin.filters.Date - parser date failed,try next,date:2020-11-14T16:25:37.080+08:00
2020-11-14 16:25:37.104 [Thread-4] INFO  com.zwq.infinity.plugin.filters.Date - parser date failed,try next,date:2020-11-14T16:25:37.080+08:00
2020-11-14 16:25:37.104 [Thread-4] INFO  com.zwq.infinity.plugin.filters.Date - parser date failed,try next,date:2020-11-14T16:25:37.080+08:00
2020-11-14 16:25:37.146 [Thread-4] INFO  com.zwq.infinity.plugin.outputs.Stdout - {"@timestamp":{"era":1,"dayOfYear":319,"dayOfWeek":6,"year":2020,"dayOfMonth":14,"weekyear":2020,"millisOfDay":59137080,"yearOfCentury":20,"centuryOfEra":20,"yearOfEra":2020,"monthOfYear":11,"weekOfWeekyear":46,"millisOfSecond":80,"secondOfMinute":37,"secondOfDay":59137,"minuteOfHour":25,"minuteOfDay":985,"hourOfDay":16,"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"},"millis":1605342337080,"chronology":{"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"}},"equalNow":false,"beforeNow":true,"afterNow":false},"name":"logkit-render","message":"qwe","type":"stdin","tags":["datefail"]}
2020-11-14 16:25:38.800 [I/O dispatcher 1] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - bulkSuccess^^^bulk done with executionId: 1^^^bulk size:1^^^no failed docs,do not need to retry
2020-11-14 16:25:52.933 [Thread-4] INFO  com.zwq.infinity.plugin.filters.Date - parser date failed,try next,date:2020-11-14T16:25:50.013+08:00
2020-11-14 16:25:52.934 [Thread-4] INFO  com.zwq.infinity.plugin.filters.Date - parser date failed,try next,date:2020-11-14T16:25:50.013+08:00
2020-11-14 16:25:52.934 [Thread-4] INFO  com.zwq.infinity.plugin.filters.Date - parser date failed,try next,date:2020-11-14T16:25:50.013+08:00
2020-11-14 16:25:52.934 [Thread-4] INFO  com.zwq.infinity.plugin.filters.Date - parser date failed,try next,date:2020-11-14T16:25:50.013+08:00
2020-11-14 16:25:53.743 [Thread-4] INFO  com.zwq.infinity.plugin.outputs.Stdout - {"@timestamp":{"era":1,"dayOfYear":319,"dayOfWeek":6,"year":2020,"dayOfMonth":14,"weekyear":2020,"millisOfDay":59150013,"yearOfCentury":20,"centuryOfEra":20,"yearOfEra":2020,"monthOfYear":11,"weekOfWeekyear":46,"millisOfSecond":13,"secondOfMinute":50,"secondOfDay":59150,"minuteOfHour":25,"minuteOfDay":985,"hourOfDay":16,"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"},"millis":1605342350013,"chronology":{"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"}},"equalNow":false,"beforeNow":true,"afterNow":false},"name":"logkit-render","message":"ewqeq","type":"stdin","tags":["datefail"]}
2020-11-14 16:25:57.013 [Thread-4] INFO  com.zwq.infinity.plugin.filters.Date - parser date failed,try next,date:2020-11-14T16:25:57.013+08:00
2020-11-14 16:25:57.014 [Thread-4] INFO  com.zwq.infinity.plugin.filters.Date - parser date failed,try next,date:2020-11-14T16:25:57.013+08:00
2020-11-14 16:25:57.015 [Thread-4] INFO  com.zwq.infinity.plugin.filters.Date - parser date failed,try next,date:2020-11-14T16:25:57.013+08:00
2020-11-14 16:25:57.016 [Thread-4] INFO  com.zwq.infinity.plugin.filters.Date - parser date failed,try next,date:2020-11-14T16:25:57.013+08:00
2020-11-14 16:25:57.018 [Thread-4] INFO  com.zwq.infinity.plugin.outputs.Stdout - {"@timestamp":{"era":1,"dayOfYear":319,"dayOfWeek":6,"year":2020,"dayOfMonth":14,"weekyear":2020,"millisOfDay":59157013,"yearOfCentury":20,"centuryOfEra":20,"yearOfEra":2020,"monthOfYear":11,"weekOfWeekyear":46,"millisOfSecond":13,"secondOfMinute":57,"secondOfDay":59157,"minuteOfHour":25,"minuteOfDay":985,"hourOfDay":16,"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"},"millis":1605342357013,"chronology":{"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"}},"equalNow":false,"beforeNow":true,"afterNow":false},"name":"logkit-render","message":"222","type":"stdin","tags":["datefail"]}
2020-11-14 16:25:58.752 [I/O dispatcher 1] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - bulkSuccess^^^bulk done with executionId: 2^^^bulk size:2^^^no failed docs,do not need to retry
2020-11-14 16:26:32.807 [Thread-4] INFO  com.zwq.infinity.plugin.filters.Date - parser date failed,try next,date:2020-11-14T16:26:05.965+08:00
2020-11-14 16:26:32.807 [Thread-4] INFO  com.zwq.infinity.plugin.filters.Date - parser date failed,try next,date:2020-11-14T16:26:05.965+08:00
2020-11-14 16:26:32.808 [Thread-4] INFO  com.zwq.infinity.plugin.filters.Date - parser date failed,try next,date:2020-11-14T16:26:05.965+08:00
2020-11-14 16:26:32.808 [Thread-4] INFO  com.zwq.infinity.plugin.filters.Date - parser date failed,try next,date:2020-11-14T16:26:05.965+08:00
2020-11-14 16:26:32.810 [Thread-4] INFO  com.zwq.infinity.plugin.outputs.Stdout - {"@timestamp":{"era":1,"dayOfYear":319,"dayOfWeek":6,"year":2020,"dayOfMonth":14,"weekyear":2020,"millisOfDay":59165965,"yearOfCentury":20,"centuryOfEra":20,"yearOfEra":2020,"monthOfYear":11,"weekOfWeekyear":46,"millisOfSecond":965,"secondOfMinute":5,"secondOfDay":59165,"minuteOfHour":26,"minuteOfDay":986,"hourOfDay":16,"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"},"millis":1605342365965,"chronology":{"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"}},"equalNow":false,"beforeNow":true,"afterNow":false},"name":"logkit-render","message":"32423","type":"stdin","tags":["datefail"]}
2020-11-14 16:26:32.812 [Thread-4] INFO  com.zwq.infinity.plugin.inputs.Stdin - Stdin loop got exception
java.io.IOException: Bad file descriptor
	at java.io.FileInputStream.readBytes(Native Method)
	at java.io.FileInputStream.read(FileInputStream.java:255)
	at java.io.BufferedInputStream.read1(BufferedInputStream.java:284)
	at java.io.BufferedInputStream.read(BufferedInputStream.java:345)
	at sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:284)
	at sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:326)
	at sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)
	at java.io.InputStreamReader.read(InputStreamReader.java:184)
	at java.io.BufferedReader.fill(BufferedReader.java:161)
	at java.io.BufferedReader.readLine(BufferedReader.java:324)
	at java.io.BufferedReader.readLine(BufferedReader.java:389)
	at com.zwq.infinity.plugin.inputs.Stdin.emit(Stdin.java:58)
	at com.zwq.infinity.InputEmitThread.run(InputEmitThread.java:18)
2020-11-14 16:26:32.842 [Thread-3] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.RestElasticsearch
2020-11-14 16:26:32.842 [Thread-1] INFO  com.zwq.infinity.baseplugin.BaseInput - start to shutdown com.zwq.infinity.plugin.inputs.Stdin
2020-11-14 16:26:32.842 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:26:32.843 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:26:32.843 [Thread-3] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - flush docs and then shutdown
2020-11-14 16:26:32.843 [Thread-1] INFO  com.zwq.infinity.plugin.inputs.Stdin - Stdin Input shutdown... 
2020-11-14 16:26:32.851 [I/O dispatcher 1] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - bulkSuccess^^^bulk done with executionId: 3^^^bulk size:1^^^no failed docs,do not need to retry
2020-11-14 16:26:36.360 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 16:26:36.366 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:26:36.408 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:26:36.629 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"plain","hostname":true,"type":"stdin"}}],"filters":[{"Add":{"fields":{"index_name":"logkit-render"}}},{"Date":{"src":"@timestamp","formats":["YYYY-MM-dd'T'HH:mm:ss.SSS'Z'","YYYY-MM-dd'T'HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss"],"target":"@timestamp","timezone":"Asia/Shanghai"}},{"Rename":{"fields":{"index_name":"name"}}}],"outputs":[{"Stdout":{}},{"RestElasticsearch":{"cluster":"fat_7_4_1_cluster","hosts":["10.9.47.11:41613"],"index":"test-index-%{+YYYY.MM.dd}","username":"elastic","password":"l3F9Hx65q15i4LM4GsKj5B3B","bulk_actions":10,"bulk_size":1,"flush_interval":5,"timezone":"Asia/Shanghai","sniff":false}}]}
2020-11-14 16:26:36.683 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 16:26:36.687 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 16:26:36.688 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Add
2020-11-14 16:26:36.689 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Add done
2020-11-14 16:26:36.822 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Date
2020-11-14 16:26:36.829 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Date done
2020-11-14 16:26:36.866 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Rename
2020-11-14 16:26:36.867 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Rename done
2020-11-14 16:26:36.868 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 16:26:36.869 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 16:26:36.870 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output RestElasticsearch
2020-11-14 16:26:36.873 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output RestElasticsearch done
2020-11-14 16:26:37.268 [main] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - 是否开启节点嗅探机制:false
2020-11-14 16:26:37.498 [main] INFO  c.z.infinity.plugin.outputs.RetryRestElasticsearch - 重试restClient^^^是否开启节点嗅探机制:false
2020-11-14 16:26:37.502 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 16:27:49.147 [Thread-4] INFO  com.zwq.infinity.baseplugin.BaseInput - process event failed:sa,error:java.lang.ClassCastException: org.joda.time.DateTime cannot be cast to java.lang.String
	at com.zwq.infinity.plugin.filters.Date.filter(Date.java:86)
	at com.zwq.infinity.baseplugin.BaseFilter.process(BaseFilter.java:93)
	at com.zwq.infinity.baseplugin.BaseFilter.process(BaseFilter.java:101)
	at com.zwq.infinity.baseplugin.BaseInput.process(BaseInput.java:96)
	at com.zwq.infinity.plugin.inputs.Stdin.emit(Stdin.java:59)
	at com.zwq.infinity.InputEmitThread.run(InputEmitThread.java:18)

2020-11-14 16:27:51.768 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:27:51.768 [Thread-3] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.RestElasticsearch
2020-11-14 16:27:51.769 [Thread-1] INFO  com.zwq.infinity.baseplugin.BaseInput - start to shutdown com.zwq.infinity.plugin.inputs.Stdin
2020-11-14 16:27:51.769 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:27:51.769 [Thread-3] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - flush docs and then shutdown
2020-11-14 16:27:51.769 [Thread-1] INFO  com.zwq.infinity.plugin.inputs.Stdin - Stdin Input shutdown... 
2020-11-14 16:27:54.911 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 16:27:54.918 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:27:54.959 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:27:55.183 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"plain","hostname":true,"type":"stdin"}}],"filters":[{"Add":{"fields":{"index_name":"logkit-render"}}},{"Date":{"src":"@timestamp","formats":["YYYY-MM-dd'T'HH:mm:ss.SSS'Z'","YYYY-MM-dd'T'HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss"],"target":"@timestamp","timezone":"Asia/Shanghai"}},{"Rename":{"fields":{"index_name":"name"}}}],"outputs":[{"Stdout":{}},{"RestElasticsearch":{"cluster":"fat_7_4_1_cluster","hosts":["10.9.47.11:41613"],"index":"test-index-%{+YYYY.MM.dd}","username":"elastic","password":"l3F9Hx65q15i4LM4GsKj5B3B","bulk_actions":10,"bulk_size":1,"flush_interval":5,"timezone":"Asia/Shanghai","sniff":false}}]}
2020-11-14 16:27:55.237 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 16:27:55.242 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 16:27:55.242 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Add
2020-11-14 16:27:55.243 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Add done
2020-11-14 16:27:55.353 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Date
2020-11-14 16:27:55.358 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Date done
2020-11-14 16:27:55.388 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Rename
2020-11-14 16:27:55.388 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Rename done
2020-11-14 16:27:55.390 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 16:27:55.391 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 16:27:55.392 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output RestElasticsearch
2020-11-14 16:27:55.395 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output RestElasticsearch done
2020-11-14 16:27:55.824 [main] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - 是否开启节点嗅探机制:false
2020-11-14 16:27:56.033 [main] INFO  c.z.infinity.plugin.outputs.RetryRestElasticsearch - 重试restClient^^^是否开启节点嗅探机制:false
2020-11-14 16:27:56.036 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 16:28:09.176 [Thread-4] INFO  com.zwq.infinity.plugin.filters.Date - parser date failed,try next,date:2020-11-14T16:27:58.690+08:00
2020-11-14 16:28:09.176 [Thread-4] INFO  com.zwq.infinity.plugin.filters.Date - parser date failed,try next,date:2020-11-14T16:27:58.690+08:00
2020-11-14 16:28:09.176 [Thread-4] INFO  com.zwq.infinity.plugin.filters.Date - parser date failed,try next,date:2020-11-14T16:27:58.690+08:00
2020-11-14 16:28:09.176 [Thread-4] INFO  com.zwq.infinity.plugin.filters.Date - parser date failed,try next,date:2020-11-14T16:27:58.690+08:00
2020-11-14 16:28:09.232 [Thread-4] INFO  com.zwq.infinity.plugin.outputs.Stdout - {"@timestamp":{"era":1,"dayOfYear":319,"dayOfWeek":6,"year":2020,"dayOfMonth":14,"weekyear":2020,"millisOfDay":59278690,"centuryOfEra":20,"weekOfWeekyear":46,"yearOfCentury":20,"yearOfEra":2020,"monthOfYear":11,"millisOfSecond":690,"secondOfMinute":58,"secondOfDay":59278,"minuteOfHour":27,"minuteOfDay":987,"hourOfDay":16,"zone":{"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"fixed":false,"id":"Asia/Shanghai"},"millis":1605342478690,"chronology":{"zone":{"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"fixed":false,"id":"Asia/Shanghai"}},"equalNow":false,"beforeNow":true,"afterNow":false},"name":"logkit-render","message":"333","type":"stdin","tags":["datefail"]}
2020-11-14 16:28:14.290 [I/O dispatcher 1] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - bulkSuccess^^^bulk done with executionId: 1^^^bulk size:1^^^no failed docs,do not need to retry
2020-11-14 16:30:27.194 [Thread-3] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.RestElasticsearch
2020-11-14 16:30:27.194 [Thread-1] INFO  com.zwq.infinity.baseplugin.BaseInput - start to shutdown com.zwq.infinity.plugin.inputs.Stdin
2020-11-14 16:30:27.194 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:30:27.194 [Thread-3] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - flush docs and then shutdown
2020-11-14 16:30:27.194 [Thread-1] INFO  com.zwq.infinity.plugin.inputs.Stdin - Stdin Input shutdown... 
2020-11-14 16:30:27.194 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:30:30.371 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 16:30:30.376 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:30:30.415 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:30:30.608 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"plain","hostname":true,"type":"stdin"}}],"filters":[{"Add":{"fields":{"index_name":"logkit-render"}}},{"Date":{"src":"@timestamp","formats":["YYYY-MM-dd'T'HH:mm:ss.SSS'Z'","YYYY-MM-dd'T'HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss"],"target":"@timestamp","timezone":"Asia/Shanghai"}},{"Rename":{"fields":{"index_name":"name"}}}],"outputs":[{"Stdout":{}},{"RestElasticsearch":{"cluster":"fat_7_4_1_cluster","hosts":["10.9.47.11:41613"],"index":"test-index-%{+YYYY.MM.dd}","username":"elastic","password":"l3F9Hx65q15i4LM4GsKj5B3B","bulk_actions":10,"bulk_size":1,"flush_interval":5,"timezone":"Asia/Shanghai","sniff":false}}]}
2020-11-14 16:30:30.657 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 16:30:30.663 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 16:30:30.664 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Add
2020-11-14 16:30:30.665 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Add done
2020-11-14 16:30:30.786 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Date
2020-11-14 16:30:30.789 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Date done
2020-11-14 16:30:30.815 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Rename
2020-11-14 16:30:30.816 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Rename done
2020-11-14 16:30:30.818 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 16:30:30.819 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 16:30:30.821 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output RestElasticsearch
2020-11-14 16:30:30.825 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output RestElasticsearch done
2020-11-14 16:30:31.261 [main] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - 是否开启节点嗅探机制:false
2020-11-14 16:30:31.474 [main] INFO  c.z.infinity.plugin.outputs.RetryRestElasticsearch - 重试restClient^^^是否开启节点嗅探机制:false
2020-11-14 16:30:31.477 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 16:30:37.552 [Thread-4] INFO  com.zwq.infinity.plugin.outputs.Stdout - {"@timestamp":{"era":1,"dayOfYear":319,"dayOfWeek":6,"year":2020,"dayOfMonth":14,"weekyear":2020,"millisOfDay":30633941,"yearOfCentury":20,"centuryOfEra":20,"yearOfEra":2020,"monthOfYear":11,"weekOfWeekyear":46,"millisOfSecond":941,"secondOfMinute":33,"secondOfDay":30633,"minuteOfHour":30,"minuteOfDay":510,"hourOfDay":8,"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"},"millis":1605313833941,"chronology":{"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"}},"equalNow":false,"beforeNow":true,"afterNow":false},"name":"logkit-render","message":"444","type":"stdin"}
2020-11-14 16:30:49.668 [Thread-4] INFO  com.zwq.infinity.plugin.outputs.Stdout - {"@timestamp":{"era":1,"dayOfYear":319,"dayOfWeek":6,"year":2020,"dayOfMonth":14,"weekyear":2020,"millisOfDay":30642179,"yearOfCentury":20,"centuryOfEra":20,"yearOfEra":2020,"monthOfYear":11,"weekOfWeekyear":46,"millisOfSecond":179,"secondOfMinute":42,"secondOfDay":30642,"minuteOfHour":30,"minuteOfDay":510,"hourOfDay":8,"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"},"millis":1605313842179,"chronology":{"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"}},"equalNow":false,"beforeNow":true,"afterNow":false},"name":"logkit-render","message":"444","type":"stdin"}
2020-11-14 16:30:49.783 [I/O dispatcher 1] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - bulkSuccess^^^bulk done with executionId: 1^^^bulk size:1^^^no failed docs,do not need to retry
2020-11-14 16:30:53.107 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:30:53.107 [Thread-3] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.RestElasticsearch
2020-11-14 16:30:53.107 [Thread-1] INFO  com.zwq.infinity.baseplugin.BaseInput - start to shutdown com.zwq.infinity.plugin.inputs.Stdin
2020-11-14 16:30:53.107 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:30:53.108 [Thread-3] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - flush docs and then shutdown
2020-11-14 16:30:53.108 [Thread-1] INFO  com.zwq.infinity.plugin.inputs.Stdin - Stdin Input shutdown... 
2020-11-14 16:30:53.117 [I/O dispatcher 1] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - bulkSuccess^^^bulk done with executionId: 2^^^bulk size:1^^^no failed docs,do not need to retry
2020-11-14 16:33:44.781 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 16:33:44.788 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:33:44.826 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:33:45.028 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"plain","hostname":true,"type":"stdin"}}],"filters":[{"Add":{"fields":{"index_name":"logkit-render"}}},{"Date":{"src":"@timestamp","formats":["YYYY-MM-dd'T'HH:mm:ss.SSS'Z'","YYYY-MM-dd'T'HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss"],"target":"@timestamp","timezone":"Asia/Shanghai"}},{"Rename":{"fields":{"index_name":"name"}}}],"outputs":[{"Stdout":{}},{"RestElasticsearch":{"cluster":"fat_7_4_1_cluster","hosts":["10.9.47.11:41613"],"index":"test-index-%{+YYYY.MM.dd}","username":"elastic","password":"l3F9Hx65q15i4LM4GsKj5B3B","bulk_actions":10,"bulk_size":1,"flush_interval":5,"timezone":"Asia/Shanghai","sniff":false}}]}
2020-11-14 16:33:45.075 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 16:33:45.080 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 16:33:45.081 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Add
2020-11-14 16:33:45.082 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Add done
2020-11-14 16:33:45.187 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Date
2020-11-14 16:33:45.187 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Date done
2020-11-14 16:33:45.208 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Rename
2020-11-14 16:33:45.208 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Rename done
2020-11-14 16:33:45.209 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 16:33:45.210 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 16:33:45.211 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output RestElasticsearch
2020-11-14 16:33:45.213 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output RestElasticsearch done
2020-11-14 16:33:45.665 [main] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - 是否开启节点嗅探机制:false
2020-11-14 16:33:45.906 [main] INFO  c.z.infinity.plugin.outputs.RetryRestElasticsearch - 重试restClient^^^是否开启节点嗅探机制:false
2020-11-14 16:33:45.909 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 16:33:47.454 [Thread-4] INFO  com.zwq.infinity.plugin.outputs.Stdout - {"@timestamp":{"era":1,"dayOfYear":319,"dayOfWeek":6,"year":2020,"dayOfMonth":14,"weekyear":2020,"millisOfDay":30827364,"centuryOfEra":20,"weekOfWeekyear":46,"yearOfCentury":20,"yearOfEra":2020,"monthOfYear":11,"millisOfSecond":364,"secondOfMinute":47,"secondOfDay":30827,"minuteOfHour":33,"minuteOfDay":513,"hourOfDay":8,"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"},"millis":1605314027364,"chronology":{"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"}},"equalNow":false,"beforeNow":true,"afterNow":false},"name":"logkit-render","message":"{}","type":"stdin"}
2020-11-14 16:33:51.031 [I/O dispatcher 1] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - bulkSuccess^^^bulk done with executionId: 1^^^bulk size:1^^^no failed docs,do not need to retry
2020-11-14 16:34:10.120 [Thread-4] INFO  com.zwq.infinity.plugin.outputs.Stdout - {"@timestamp":{"era":1,"dayOfYear":319,"dayOfWeek":6,"year":2020,"dayOfMonth":14,"weekyear":2020,"millisOfDay":30850120,"centuryOfEra":20,"weekOfWeekyear":46,"yearOfCentury":20,"yearOfEra":2020,"monthOfYear":11,"millisOfSecond":120,"secondOfMinute":10,"secondOfDay":30850,"minuteOfHour":34,"minuteOfDay":514,"hourOfDay":8,"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"},"millis":1605314050120,"chronology":{"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"}},"equalNow":false,"beforeNow":true,"afterNow":false},"name":"logkit-render","message":"sadas","type":"stdin"}
2020-11-14 16:34:11.083 [I/O dispatcher 1] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - bulkSuccess^^^bulk done with executionId: 2^^^bulk size:1^^^no failed docs,do not need to retry
2020-11-14 16:35:31.436 [Thread-3] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.RestElasticsearch
2020-11-14 16:35:31.436 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - start to shutdown com.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:35:31.436 [Thread-3] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - flush docs and then shutdown
2020-11-14 16:35:31.436 [Thread-2] INFO  com.zwq.infinity.baseplugin.BaseOutput - shutdowncom.zwq.infinity.plugin.outputs.Stdout
2020-11-14 16:35:31.436 [Thread-1] INFO  com.zwq.infinity.baseplugin.BaseInput - start to shutdown com.zwq.infinity.plugin.inputs.Stdin
2020-11-14 16:35:31.436 [Thread-1] INFO  com.zwq.infinity.plugin.inputs.Stdin - Stdin Input shutdown... 
2020-11-14 16:35:34.956 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用准备启动
2020-11-14 16:35:34.964 [main] INFO  com.zwq.infinity.InfinityApplication - 准备使用外部目录下的配置文件进行启动:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:35:35.006 [main] INFO  com.zwq.infinity.config.InfinityConfig - 启动的配置文件为:./infinity-core/src/main/resources/config/test/3-stdin_to_rest_es7.yml
2020-11-14 16:35:35.218 [main] INFO  com.zwq.infinity.InfinityApplication - 配置详情:{"inputs":[{"Stdin":{"codec":"plain","hostname":true,"type":"stdin"}}],"filters":[{"Add":{"fields":{"index_name":"logkit-render"}}},{"Date":{"src":"@timestamp","formats":["YYYY-MM-dd'T'HH:mm:ss.SSS'Z'","YYYY-MM-dd'T'HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss.SSS","YYYY-MM-dd HH:mm:ss"],"target":"@timestamp","timezone":"Asia/Shanghai"}},{"Rename":{"fields":{"index_name":"name"}}}],"outputs":[{"Stdout":{}},{"RestElasticsearch":{"cluster":"fat_7_4_1_cluster","hosts":["10.9.47.11:41613"],"index":"test-index-%{+YYYY.MM.dd}","username":"elastic","password":"l3F9Hx65q15i4LM4GsKj5B3B","bulk_actions":10,"bulk_size":1,"flush_interval":5,"timezone":"Asia/Shanghai","sniff":false}}]}
2020-11-14 16:35:35.278 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build input Stdin
2020-11-14 16:35:35.284 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build input Stdin done
2020-11-14 16:35:35.285 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Add
2020-11-14 16:35:35.286 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Add done
2020-11-14 16:35:35.413 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Date
2020-11-14 16:35:35.413 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Date done
2020-11-14 16:35:35.443 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build filter Rename
2020-11-14 16:35:35.443 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build filter Rename done
2020-11-14 16:35:35.444 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output Stdout
2020-11-14 16:35:35.445 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output Stdout done
2020-11-14 16:35:35.446 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - begin to build output RestElasticsearch
2020-11-14 16:35:35.449 [main] INFO  com.zwq.infinity.baseplugin.InfinityBuilder - build output RestElasticsearch done
2020-11-14 16:35:35.908 [main] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - 是否开启节点嗅探机制:false
2020-11-14 16:35:36.112 [main] INFO  c.z.infinity.plugin.outputs.RetryRestElasticsearch - 重试restClient^^^是否开启节点嗅探机制:false
2020-11-14 16:35:36.116 [main] INFO  com.zwq.infinity.InfinityApplication - infinity消费应用启动成功^^^started
2020-11-14 16:35:42.476 [Thread-4] INFO  com.zwq.infinity.plugin.outputs.Stdout - {"@timestamp":{"era":1,"dayOfYear":319,"dayOfWeek":6,"year":2020,"dayOfMonth":14,"weekyear":2020,"millisOfDay":59742406,"yearOfCentury":20,"centuryOfEra":20,"yearOfEra":2020,"monthOfYear":11,"weekOfWeekyear":46,"millisOfSecond":406,"secondOfMinute":42,"secondOfDay":59742,"minuteOfHour":35,"minuteOfDay":995,"hourOfDay":16,"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"},"millis":1605342942406,"chronology":{"zone":{"fixed":false,"uncachedZone":{"cachable":true,"fixed":false,"id":"Asia/Shanghai"},"id":"Asia/Shanghai"}},"equalNow":false,"beforeNow":true,"afterNow":false},"name":"logkit-render","message":"dasdas","type":"stdin","tags":["datefail"]}
2020-11-14 16:35:46.346 [I/O dispatcher 1] INFO  com.zwq.infinity.plugin.outputs.RestElasticsearch - bulkSuccess^^^bulk done with executionId: 1^^^bulk size:1^^^no failed docs,do not need to retry
